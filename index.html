<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Task Board</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><text y='14' font-size='14'>ğŸ“‹</text></svg>">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PROFESSIONAL BLUE/GREY DESIGN SYSTEM
     Electric Blue + Steel Grey
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

  :root {
    /* 3-Color System: Blues + Greys */
    --blue-primary: #0ea5e9;
    --blue-accent: #38bdf8;
    
    /* Gradient Applications */
    --gradient-primary: linear-gradient(135deg, #0ea5e9 0%, #38bdf8 100%);
    --gradient-reverse: linear-gradient(135deg, #38bdf8 0%, #0ea5e9 100%);
    --gradient-soft: linear-gradient(135deg, rgba(14,165,233,0.2) 0%, rgba(56,189,248,0.2) 100%);
    
    /* Neutrals - Light Mode (soft whites + light blues) */
    --neutral-900: #f8fafc;
    --neutral-800: #ffffff;
    --neutral-700: #f1f5f9;
    --neutral-600: #cbd5e1;
    --neutral-400: #64748b;
    --neutral-200: #1e293b;
    
    /* Semantic Colors (derived from base) - Light Mode */
    --color-bg-primary: var(--neutral-900);
    --color-bg-secondary: var(--neutral-800);
    --color-bg-tertiary: var(--neutral-700);
    
    --color-text-primary: #0f172a;
    --color-text-secondary: #334155;
    --color-text-muted: var(--neutral-400);
    
    --color-accent: #0ea5e9;
    --color-accent-light: rgba(14, 165, 233, 0.15);
    --color-accent-glow: rgba(14, 165, 233, 0.3);
    
    /* Legacy Compatibility - Light Mode */
    --primary: #0ea5e9;
    --gradient-start: #0ea5e9;
    --gradient-end: #38bdf8;
    --surface: var(--neutral-900);
    --surface-card: var(--neutral-800);
    --text-primary: var(--color-text-primary);
    --text-secondary: var(--color-text-secondary);
    --border: rgba(148, 163, 184, 0.2);
    --border-hover: rgba(100, 116, 139, 0.3);
    --tag-org-text: #475569;
    --tag-default: #e5e7eb;
    --tag-default-text: #6b7280;
    
    /* Shadows - Light Mode */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
    --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.15);
    
    /* Glass effects - Light Mode */
    --glass-bg: rgba(255, 255, 255, 0.8);
    --glass-border: rgba(148, 163, 184, 0.2);
    
    /* Spacing */
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    
    /* Border radius */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    --radius-full: 9999px;
  }

  /* Dark mode */
  [data-theme="dark"] {
    --primary: #3b82f6;
    --secondary: #60a5fa;
    --accent: #1e40af;
    --surface: #0F0F0F;
    --surface-card: #1A1A1A;
    --surface-elevated: #262626;
    --text-primary: #FAFAFA;
    --text-secondary: #A1A1AA;
    --text-tertiary: #71717A;
    --success: #95D5B2;
    --error: #93c5fd;
    --warning: #7dd3fc;
    --border: rgba(255, 255, 255, 0.08);
    --border-hover: rgba(255, 255, 255, 0.12);
    --glass-bg: rgba(26, 26, 26, 0.6);
    --glass-border: rgba(255, 255, 255, 0.08);
    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
    --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.6);
    --tag-infra: #388bfd33;
    --tag-infra-text: #58a6ff;
    --tag-research: #7dd3fc33;
    --tag-research-text: #93c5fd;
    --tag-content: #60a5fa33;
    --tag-content-text: #60a5fa;
    --tag-coding: #3fb95033;
    --tag-coding-text: #56d364;
    --tag-org: #64748b33;
    --tag-org-text: #94a3b8;
    --tag-default: #30363d;
    --tag-default-text: #8b949e;
  }

  /* Typography - iOS-inspired */
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Segoe UI', Roboto, sans-serif;
    background: var(--surface);
    color: var(--text-primary);
    min-height: 100vh;
    overflow-x: auto;
    font-size: 1.0625rem;
    line-height: 1.4;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     GLASSMORPHISM HEADER
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .header {
    position: sticky;
    top: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-lg) var(--space-xl);
    background: var(--glass-bg);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border-bottom: 1px solid var(--glass-border);
    box-shadow: var(--shadow-sm);
    animation: slideDown 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }

  @keyframes slideDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    letter-spacing: -0.02em;
  }

  .header h1 span { 
    font-size: 1.875rem;
    filter: drop-shadow(0 2px 4px rgba(255, 107, 107, 0.3));
  }

  .header-actions { 
    display: flex; 
    gap: var(--space-md); 
    align-items: center; 
  }

  .card-count {
    font-size: 0.875rem;
    color: var(--text-secondary);
    font-weight: 600;
    padding: 0.375rem 0.875rem;
    background: var(--surface-card);
    border-radius: var(--radius-full);
    border: 1px solid var(--border);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODERN BUTTONS - 44px MINIMUM TOUCH TARGET
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .btn {
    min-height: 44px;
    padding: 0.625rem 1.25rem;
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    background: var(--surface-card);
    color: var(--text-primary);
    font-size: 0.9375rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }

  .btn:hover {
    border-color: var(--border-hover);
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
  }

  .btn:active {
    transform: translateY(0) scale(0.98);
  }

  .btn-primary {
    background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
    border: none;
    color: #fff;
    font-weight: 700;
    box-shadow: var(--shadow-md);
  }

  .btn-primary:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
  }

  .btn-danger {
    background: transparent;
    border-color: var(--error);
    color: var(--error);
  }

  .btn-danger:hover { 
    background: rgba(255, 138, 128, 0.1);
  }

  .btn-sm { 
    min-height: 36px;
    padding: 0.5rem 1rem; 
    font-size: 0.875rem; 
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     BOARD LAYOUT
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .board {
    display: flex;
    gap: var(--space-xl);
    padding: var(--space-xl);
    min-height: calc(100vh - 90px);
    align-items: flex-start;
    animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     COLUMNS WITH GRADIENT HEADERS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .column {
    flex: 1;
    min-width: 340px;
    max-width: 420px;
    background: var(--surface-card);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    max-height: calc(100vh - 130px);
    box-shadow: var(--shadow-sm);
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    overflow: hidden;
  }

  .column:hover {
    box-shadow: var(--shadow-md);
  }

  .column-header {
    padding: 1.125rem 1.25rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--border);
    flex-shrink: 0;
    position: relative;
    overflow: hidden;
  }

  .column-header::before {
    content: '';
    position: absolute;
    inset: 0;
    opacity: 0.1;
    transition: opacity 0.3s;
  }

  .column:hover .column-header::before {
    opacity: 0.15;
  }

  .column[data-col="backlog"] .column-header::before {
    background: linear-gradient(135deg, #3b82f6, #3b82f6);
  }

  .column[data-col="next-up"] .column-header::before {
    background: linear-gradient(135deg, #3b82f6, #bfdbfe);
  }

  .column[data-col="progress"] .column-header::before {
    background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
  }

  .column[data-col="blocked"] .column-header::before {
    background: linear-gradient(135deg, #1e40af, #60a5fa);
  }

  .column[data-col="done"] .column-header::before {
    background: linear-gradient(135deg, #95D5B2, #3b82f6);
  }

  .column-title {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-weight: 700;
    font-size: 1.0625rem;
    letter-spacing: -0.01em;
    position: relative;
    z-index: 1;
  }

  .column-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    flex-shrink: 0;
    box-shadow: 0 2px 8px currentColor;
  }

  .column[data-col="backlog"] .column-dot { background: #3b82f6; }
  .column[data-col="next-up"] .column-dot { background: #3b82f6; }
  .column[data-col="progress"] .column-dot { background: #60a5fa; }
  .column[data-col="blocked"] .column-dot { background: #1e40af; }
  .column[data-col="done"] .column-dot { background: #95D5B2; }

  .column-count {
    /* Blue Gradient Badge */
    background: var(--gradient-primary);
    color: #ffffff;
    font-size: 0.875rem;
    font-weight: 700;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    min-width: 32px;
    text-align: center;
    box-shadow: 0 2px 8px rgba(14, 165, 233, 0.3);
    border: none;
  }

  .column-cards {
    padding: 1rem;
    flex: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 0.875rem;
    min-height: 60px;
  }

  .column-cards::-webkit-scrollbar { width: 6px; }
  .column-cards::-webkit-scrollbar-track { background: transparent; }
  .column-cards::-webkit-scrollbar-thumb { 
    background: var(--border); 
    border-radius: 3px; 
  }
  .column-cards::-webkit-scrollbar-thumb:hover { 
    background: var(--border-hover); 
  }

  /* Drop zone */
  .column-cards.drag-over {
    background: rgba(255, 107, 107, 0.05);
    border-radius: var(--radius-md);
  }

  .drop-indicator {
    height: 3px;
    background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
    border-radius: 2px;
    margin: -4px 0;
    transition: opacity 0.2s;
    box-shadow: 0 0 8px rgba(255, 107, 107, 0.5);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODERN CARDS - ENHANCED SHADOWS & HOVER
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .card {
    /* Blue/Grey Glassmorphism */
    background: rgba(45, 45, 45, 0.8);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(14, 165, 233, 0.1);
    border-radius: 12px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    animation: cardIn 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    -webkit-tap-highlight-color: transparent;
  }
  
  .card:hover {
    background: rgba(45, 45, 45, 0.95);
    border-color: rgba(14, 165, 233, 0.3);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(14, 165, 233, 0.15);
  }
  
  .card:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }

  /* Light mode card backgrounds */
  :root .card {
    background: #dbeafe !important; /* Light blue */
    color: #1e293b; /* Dark text */
    border-color: rgba(14, 165, 233, 0.2);
  }

  :root .card:hover {
    background: #bfdbfe !important; /* Slightly darker blue on hover */
    border-color: rgba(14, 165, 233, 0.4);
  }

  /* Ensure dark mode keeps dark backgrounds */
  [data-theme="dark"] .card {
    background: rgba(45, 45, 45, 0.8) !important;
    color: var(--text-primary);
    border-color: rgba(14, 165, 233, 0.1);
  }

  [data-theme="dark"] .card:hover {
    background: rgba(45, 45, 45, 0.95) !important;
    border-color: rgba(14, 165, 233, 0.3);
  }

  @keyframes cardIn {
    from { 
      opacity: 0; 
      transform: translateY(10px) scale(0.95); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0) scale(1); 
    }
  }

  .card.priority-critical-card { 
    border-left-color: var(--critical);
    box-shadow: var(--shadow-sm), -4px 0 0 var(--critical);
  }
  .card.priority-high-card { 
    border-left-color: var(--high);
    box-shadow: var(--shadow-sm), -4px 0 0 var(--high);
  }
  .card.priority-medium-card { 
    border-left-color: var(--med);
    box-shadow: var(--shadow-sm), -4px 0 0 var(--med);
  }
  .card.priority-low-card { 
    border-left-color: var(--low);
    box-shadow: var(--shadow-sm), -4px 0 0 var(--low);
  }

  .card:hover {
    border-color: var(--border-hover);
    transform: translateY(-4px) scale(1.02);
    box-shadow: var(--shadow-lg);
  }

  .card.priority-critical-card:hover { 
    box-shadow: var(--shadow-lg), -4px 0 12px rgba(255, 59, 48, 0.4);
  }
  .card.priority-high-card:hover { 
    box-shadow: var(--shadow-lg), -4px 0 12px rgba(255, 107, 107, 0.4);
  }
  .card.priority-medium-card:hover { 
    box-shadow: var(--shadow-lg), -4px 0 12px rgba(255, 230, 109, 0.4);
  }
  .card.priority-low-card:hover { 
    box-shadow: var(--shadow-lg), -4px 0 12px rgba(149, 213, 178, 0.4);
  }

  .card:active { 
    cursor: grabbing; 
    transform: scale(0.98);
  }

  .card.dragging {
    opacity: 0.5;
    transform: scale(0.95) rotate(2deg);
    box-shadow: var(--shadow-xl);
  }

  .card-title {
    font-size: 1.0625rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    line-height: 1.4;
    padding-right: 2.5rem;
    letter-spacing: -0.01em;
  }

  .card-desc {
    font-size: 0.9375rem;
    color: var(--text-secondary);
    line-height: 1.5;
    margin-bottom: 0.875rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .card-meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .priority-badge {
    font-size: 0.75rem;
    font-weight: 800;
    padding: 0.375rem 0.75rem;
    border-radius: var(--radius-full);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
  }

  .priority-badge.critical { 
    background: linear-gradient(135deg, #1e40af, #60a5fa);
    color: #fff;
  }
  .priority-badge.high { 
    background: linear-gradient(135deg, #60a5fa, #93c5fd);
    color: #fff;
  }
  .priority-badge.medium { 
    background: linear-gradient(135deg, #bfdbfe, #7dd3fc);
    color: #2D2D2D;
  }
  .priority-badge.low { 
    background: linear-gradient(135deg, #95D5B2, #3b82f6);
    color: #fff;
  }

  .tag {
    font-size: 0.75rem;
    padding: 0.375rem 0.75rem;
    border-radius: var(--radius-full);
    font-weight: 600;
    letter-spacing: 0.02em;
  }

  .tag-infrastructure { background: var(--tag-infra); color: var(--tag-infra-text); }
  .tag-research { background: var(--tag-research); color: var(--tag-research-text); }
  .tag-content { background: var(--tag-content); color: var(--tag-content-text); }
  .tag-coding { background: var(--tag-coding); color: var(--tag-coding-text); }
  .tag-organization { background: var(--tag-org); color: var(--tag-org-text); }
  .tag-default { background: var(--tag-default); color: var(--tag-default-text); }

  .card-edit-btn {
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    min-width: 44px;
    min-height: 44px;
    border-radius: var(--radius-md);
    border: none;
    background: transparent;
    color: var(--text-tertiary);
    cursor: pointer;
    font-size: 1.125rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    opacity: 0;
  }

  .card-edit-btn:hover { 
    background: var(--surface);
    color: var(--text-primary);
    transform: scale(1.1);
  }

  .card:hover .card-edit-btn { 
    opacity: 1; 
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL WITH SMOOTH ANIMATIONS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .modal-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    z-index: 200;
    justify-content: center;
    align-items: center;
    animation: fadeIn 0.2s ease;
  }

  .modal-overlay.active { 
    display: flex; 
  }

  .modal {
    background: var(--surface-card);
    border: 1px solid var(--border);
    border-radius: var(--radius-xl);
    width: 90%;
    max-width: 500px;
    padding: 2rem;
    box-shadow: var(--shadow-xl);
    animation: modalIn 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  @keyframes modalIn {
    from { 
      opacity: 0; 
      transform: translateY(-20px) scale(0.95); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0) scale(1); 
    }
  }

  .modal h2 {
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .form-group {
    margin-bottom: 1.25rem;
  }

  .form-group label {
    display: block;
    font-size: 0.875rem;
    font-weight: 700;
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .form-group input,
  .form-group textarea,
  .form-group select {
    width: 100%;
    min-height: 48px;
    padding: 0.875rem 1rem;
    background: var(--surface);
    border: 2px solid var(--border);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    font-size: 1rem;
    font-family: inherit;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .form-group input:focus,
  .form-group textarea:focus,
  .form-group select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(255, 107, 107, 0.1);
    transform: translateY(-1px);
  }

  .form-group textarea { 
    resize: vertical; 
    min-height: 100px; 
    line-height: 1.5;
  }

  .form-group select { 
    cursor: pointer; 
  }

  .form-group select option { 
    background: var(--surface); 
  }

  .modal-actions {
    display: flex;
    justify-content: space-between;
    gap: var(--space-md);
    margin-top: 2rem;
  }

  .modal-actions-right { 
    display: flex; 
    gap: var(--space-md); 
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FILTERS WITH PILLS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .filter-bar {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .filter-chip {
    min-height: 36px;
    padding: 0.5rem 1rem;
    border-radius: var(--radius-full);
    border: 2px solid var(--border);
    background: var(--surface-card);
    color: var(--text-secondary);
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }

  .filter-chip:hover { 
    border-color: var(--primary);
    color: var(--text-primary);
    transform: translateY(-1px);
  }

  .filter-chip.active { 
    background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
    border-color: transparent;
    color: #fff;
    box-shadow: var(--shadow-md);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MOBILE TABS & NAVIGATION
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .mobile-theme-toggle { display: none; }
  .mobile-add-fab { display: none; }

  .mobile-tabs {
    display: none;
    background: var(--glass-bg);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border-bottom: 1px solid var(--glass-border);
    padding: 0;
    position: sticky;
    top: 0;
    z-index: 99;
    transition: background 0.3s ease, border-color 0.3s ease;
  }

  .mobile-tabs-inner {
    display: flex;
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }

  .mobile-tabs-inner::-webkit-scrollbar { display: none; }

  .mobile-tab {
    flex: 0 0 auto;
    min-width: 90px;
    min-height: 48px;
    padding: 0.875rem 0.75rem;
    text-align: center;
    font-size: 0.875rem;
    font-weight: 700;
    color: var(--text-tertiary);
    background: none;
    border: none;
    border-bottom: 3px solid transparent;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1), background 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    letter-spacing: -0.01em;
  }

  .mobile-tab.active { 
    color: var(--text-primary); 
  }

  .mobile-tab[data-tab="backlog"].active { border-bottom-color: #3b82f6; }
  .mobile-tab[data-tab="next-up"].active { border-bottom-color: #3b82f6; }
  .mobile-tab[data-tab="progress"].active { border-bottom-color: #60a5fa; }
  .mobile-tab[data-tab="blocked"].active { border-bottom-color: #1e40af; }
  .mobile-tab[data-tab="done"].active { border-bottom-color: #95D5B2; }

  .mobile-tab-count {
    background: var(--surface-card);
    border: 1px solid var(--border);
    border-radius: var(--radius-full);
    padding: 0.125rem 0.5rem;
    font-size: 0.75rem;
    color: var(--text-secondary);
    font-weight: 700;
    min-width: 24px;
  }

  .sync-dot {
    display: inline-block;
    width: 6px; 
    height: 6px;
    border-radius: 50%;
    background: var(--success);
    margin-left: 0.5rem;
    vertical-align: middle;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .sync-dot.active { 
    opacity: 1; 
    background: var(--primary);
    animation: pulse 1s infinite; 
  }

  @keyframes pulse { 
    0%, 100% { opacity: 0.4; transform: scale(1); } 
    50% { opacity: 1; transform: scale(1.2); } 
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     LOCK SCREEN
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .lock-screen {
    position: fixed;
    inset: 0;
    background: var(--surface);
    z-index: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
  }

  .lock-screen.hidden { 
    display: none; 
  }

  .lock-box {
    background: var(--surface-card);
    border: 1px solid var(--border);
    border-radius: var(--radius-xl);
    padding: 2.5rem 2rem;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: var(--shadow-xl);
    animation: modalIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .lock-box h2 { 
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    font-weight: 700;
  }

  .lock-box p { 
    font-size: 0.9375rem;
    color: var(--text-secondary);
    margin-bottom: 1.75rem;
  }

  .lock-input {
    width: 100%;
    min-height: 56px;
    padding: 1rem 1.25rem;
    font-size: 1.125rem;
    font-family: inherit;
    background: var(--surface);
    border: 2px solid var(--border);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    text-align: center;
    letter-spacing: 0.1em;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .lock-input:focus { 
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(255, 107, 107, 0.1);
  }

  .lock-input.error { 
    border-color: var(--error);
    animation: shake 0.4s; 
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-8px); }
    40%, 80% { transform: translateX(8px); }
  }

  /* Password input container with show/hide toggle */
  .password-input-container {
    position: relative;
    width: 100%;
    margin-bottom: 1.5rem;
  }

  .password-input-container .lock-input {
    padding-right: 3.5rem; /* Make room for toggle button */
    margin-bottom: 0;
  }

  .password-toggle {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    padding: 8px;
    line-height: 1;
    opacity: 0.6;
    transition: opacity 0.2s;
    z-index: 10;
  }

  .password-toggle:hover {
    opacity: 1;
  }

  .password-toggle:active {
    transform: translateY(-50%) scale(0.95);
  }

  .lock-btn {
    width: 100%;
    min-height: 56px;
    padding: 1rem;
    margin-top: 1rem;
    font-size: 1.0625rem;
    font-weight: 700;
    font-family: inherit;
    border: none;
    border-radius: var(--radius-md);
    background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
    color: #fff;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    box-shadow: var(--shadow-md);
  }

  .lock-btn:hover { 
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
  }

  .lock-btn:active {
    transform: scale(0.98);
  }

  .lock-btn:disabled { 
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }

  .lock-error {
    color: var(--error);
    font-size: 0.875rem;
    font-weight: 600;
    margin-top: 1rem;
    min-height: 1.5rem;
  }

  .remember-label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: var(--text-secondary);
    margin: 0.875rem 0 0.5rem;
    cursor: pointer;
    user-select: none;
  }

  .remember-label input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: var(--primary);
  }

  .lock-icon { 
    font-size: 3rem;
    margin-bottom: 1rem;
    filter: drop-shadow(0 4px 8px rgba(255, 107, 107, 0.2));
  }

  .lock-setup-note {
    font-size: 0.75rem;
    color: var(--text-tertiary);
    margin-top: 1.25rem;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     RESPONSIVE - MOBILE OPTIMIZATION
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  @media (max-width: 1000px) {
    .board { 
      flex-direction: column;
      align-items: stretch;
    }
    .column { 
      max-width: none;
      max-height: none;
    }
  }

  @media (max-width: 680px) {
    /* Hide desktop header */
    .header { 
      display: none; 
    }

    /* Show mobile tabs */
    .mobile-tabs { 
      display: block;
      position: relative;
      top: 0;
    }

    /* Mobile filter bar */
    .mobile-filter-row {
      display: flex;
      gap: 0.375rem;
      padding: 0.75rem 1rem;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      background: var(--surface-card);
      border-bottom: 1px solid var(--border);
    }

    .mobile-filter-row::-webkit-scrollbar { 
      display: none; 
    }

    .filter-chip { 
      white-space: nowrap;
      font-size: 0.8125rem;
      padding: 0.5rem 0.875rem;
      min-height: 36px;
    }

    /* Hide desktop filter bar */
    .filter-bar { 
      display: none; 
    }

    /* Board: stack columns, show only active */
    .board {
      flex-direction: column;
      align-items: stretch;
      padding: 1rem;
      padding-top: 0;
      gap: 0;
      min-height: calc(100vh - 130px);
    }

    .column:not(.bug-column) {
      max-width: none;
      max-height: none;
      display: none;
      border: none;
      background: transparent;
      box-shadow: none;
    }
    
    .bug-column {
      display: flex !important;
      flex-direction: column;
    }

    .column.mobile-active { 
      display: flex; 
    }

    .column-header { 
      display: none; 
    }

    .column-cards { 
      padding: 0.5rem 0;
      gap: 0.75rem;
    }

    /* Cards: larger touch targets */
    .card {
      padding: 1.25rem 1.375rem;
      border-left-width: 5px;
      -webkit-tap-highlight-color: transparent;
    }

    .card-title { 
      font-size: 1.125rem;
      padding-right: 3rem;
      line-height: 1.4;
      font-weight: 700;
    }

    .card-desc { 
      font-size: 1rem;
      -webkit-line-clamp: 2;
      line-height: 1.5;
    }

    .card-meta { 
      gap: 0.625rem;
      margin-top: 0.25rem;
    }

    .priority-badge { 
      font-size: 0.8125rem;
      padding: 0.5rem 0.875rem;
    }

    .tag { 
      font-size: 0.8125rem;
      padding: 0.5rem 0.875rem;
    }

    .card-edit-btn {
      opacity: 0.7;
      min-width: 48px;
      min-height: 48px;
      top: 1rem;
      right: 0.875rem;
      font-size: 1.25rem;
    }

    /* Mobile tabs */
    .mobile-tab { 
      font-size: 0.9375rem;
      min-height: 52px;
      padding: 1rem 0.75rem;
      font-weight: 700;
    }

    .mobile-tab-count { 
      font-size: 0.8125rem;
      padding: 0.25rem 0.625rem;
    }

    /* Theme toggle FAB */
    .mobile-theme-toggle {
      position: fixed;
      bottom: 1.5rem;
      left: 1.5rem;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: var(--surface-card);
      color: var(--text-primary);
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      z-index: 90;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .mobile-theme-toggle:active {
      transform: scale(0.9);
    }

    /* Add card FAB */
    .mobile-add-fab {
      position: fixed;
      bottom: 1.5rem;
      right: 1.5rem;
      width: 64px;
      height: 64px;
      border-radius: 50%;
      border: none;
      background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
      color: #fff;
      font-size: 2rem;
      font-weight: 300;
      cursor: pointer;
      box-shadow: var(--shadow-xl);
      z-index: 90;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .mobile-add-fab:active {
      transform: scale(0.95);
    }

    /* Modal: bottom sheet on mobile */
    .modal-overlay { 
      align-items: flex-end; 
    }

    @keyframes slideUpFromBottom {
      from {
        transform: translateY(100%);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .modal {
      max-width: none;
      border-radius: var(--radius-xl) var(--radius-xl) 0 0;
      padding: 1.5rem 1.25rem 2.5rem;
      max-height: 90vh;
      overflow-y: auto;
      animation: slideUpFromBottom 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .modal h2 { 
      font-size: 1.375rem;
      margin-bottom: 1.25rem;
    }

    .form-group { 
      margin-bottom: 1rem;
    }

    .form-group input,
    .form-group textarea,
    .form-group select { 
      font-size: 1.0625rem;
      min-height: 52px;
      padding: 1rem;
    }

    .modal-actions { 
      flex-direction: column;
      gap: 0.75rem;
    }

    .modal-actions-right { 
      justify-content: stretch;
      flex-direction: column;
    }

    .modal-actions-right .btn { 
      width: 100%;
      justify-content: center;
    }
  }

  /* Bugs Section */
  .bugs-section {
    margin-top: var(--space-xl);
    <!-- ========== STANDARD FEATURES ROLLOUT TASKS ========== -->
    
    <!-- Task 1: Audit all apps (Test Agent) -->
    <div class="task-card priority-critical" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-critical">CRITICAL</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Test Agent: Audit all 9 apps against standard features checklist (54 features)</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-org">testing</span>
          <span class="task-tag tag-org">audit</span>
          <span class="task-tag tag-org">1-day</span>
        </div>
        <div class="task-meta">Test Agent | 9 audit reports + 50-80 bugs</div>
      </div>
    </div>
    
    <!-- Task 2: Design unified standard features (Designer Agent) -->
    <div class="task-card priority-high" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-high">HIGH</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Designer Agent: Create unified design spec for standard features (8 categories, 20 UX tests each)</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-research">design</span>
          <span class="task-tag tag-org">ux</span>
          <span class="task-tag tag-org">2-days</span>
        </div>
        <div class="task-meta">Designer Agent (Alex) | STANDARD-FEATURES-DESIGN-SPEC.md</div>
      </div>
    </div>
    
    <!-- Tasks 3-5: HIGH priority apps -->
    <div class="task-card priority-high" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-high">HIGH</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Architect: Fix Task Board - Implement all missing standard features (3-4 hours)</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-coding">implementation</span>
          <span class="task-tag tag-infra">architect</span>
        </div>
        <div class="task-meta">Architect Agent (Marcus) | â‰¥90% checklist, Lighthouse â‰¥90</div>
      </div>
    </div>
    
    <div class="task-card priority-high" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-high">HIGH</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Architect: Fix Tokyo/Osaka Trip - Implement all missing standard features (3-4 hours)</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-coding">implementation</span>
          <span class="task-tag tag-infra">architect</span>
        </div>
        <div class="task-meta">Architect Agent (Marcus) | â‰¥90% checklist, Lighthouse â‰¥90</div>
      </div>
    </div>
    
    <div class="task-card priority-high" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-high">HIGH</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Architect: Fix Scholarship Hunt Pro - Implement all missing standard features (3-4 hours)</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-coding">implementation</span>
          <span class="task-tag tag-infra">architect</span>
        </div>
        <div class="task-meta">Architect Agent (Marcus) | â‰¥90% checklist, Lighthouse â‰¥90</div>
      </div>
    </div>
    
    <!-- Tasks 6-8: MEDIUM priority apps -->
    <div class="task-card priority-medium" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-med">MEDIUM</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Architect: Fix TikTok Downloader - Implement all missing standard features (3-4 hours)</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-coding">implementation</span>
          <span class="task-tag tag-infra">architect</span>
        </div>
        <div class="task-meta">Architect Agent (Marcus)</div>
      </div>
    </div>
    
    <div class="task-card priority-medium" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-med">MEDIUM</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Architect: Fix Viral Score Analyzer - Implement all missing standard features (3-4 hours)</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-coding">implementation</span>
          <span class="task-tag tag-infra">architect</span>
        </div>
        <div class="task-meta">Architect Agent (Marcus)</div>
      </div>
    </div>
    
    <div class="task-card priority-medium" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-med">MEDIUM</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Architect: Fix ThreadCraft AI - Implement all missing standard features (3-4 hours)</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-coding">implementation</span>
          <span class="task-tag tag-infra">architect</span>
        </div>
        <div class="task-meta">Architect Agent (Marcus)</div>
      </div>
    </div>
    
    <!-- Tasks 9-11: LOW priority apps -->
    <div class="task-card priority-low" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-low">LOW</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Architect: Fix AgentHub - Implement all missing standard features (3-4 hours)</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-coding">implementation</span>
          <span class="task-tag tag-infra">architect</span>
        </div>
        <div class="task-meta">Architect Agent (Marcus)</div>
      </div>
    </div>
    
    <div class="task-card priority-low" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-low">LOW</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Architect: Fix ClawMetrics - Implement all missing standard features (3-4 hours)</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-coding">implementation</span>
          <span class="task-tag tag-infra">architect</span>
        </div>
        <div class="task-meta">Architect Agent (Marcus)</div>
      </div>
    </div>
    
    <div class="task-card priority-low" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-low">LOW</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Architect: Fix TPUSA Intel - Implement all missing standard features (3-4 hours)</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-coding">implementation</span>
          <span class="task-tag tag-infra">architect</span>
        </div>
        <div class="task-meta">Architect Agent (Marcus)</div>
      </div>
    </div>
    
    <!-- Task 12: Final verification -->
    <div class="task-card priority-high" draggable="true">
      <div class="task-header">
        <span class="priority-badge badge-high">HIGH</span>
        <button class="delete-task">Ã—</button>
      </div>
      <div class="task-content">Test Agent: Final verification - All 9 apps meet â‰¥90% standard features compliance</div>
      <div class="task-footer">
        <div class="task-tags">
          <span class="task-tag tag-org">testing</span>
          <span class="task-tag tag-org">verification</span>
        </div>
        <div class="task-meta">Test Agent | 9 final test reports</div>
      </div>
    </div>
    
    <!-- ========== END STANDARD FEATURES ROLLOUT ========== -->
    padding-top: var(--space-xl);
    border-top: 2px solid var(--border);
  }
  
  .section-header {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--space-lg);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
  }
  
  .bug-icon {
    font-size: 1.75rem;
  }
  
  .bugs-count {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-tertiary);
    background: var(--surface-elevated);
    padding: 0.25rem 0.75rem;
    border-radius: var(--radius-full);
  }
  
  .bugs-board {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-md);
  }
  
  .bug-column .card {
    border-left: 4px solid;
  }
  
  .bug-column .card[data-priority="critical"] {
    border-left-color: var(--critical);
  }
  
  .bug-column .card[data-priority="high"] {
    border-left-color: var(--high);
  }
  
  .bug-column .card[data-priority="medium"] {
    border-left-color: var(--med);
  }
  
  .bug-column .card[data-priority="low"] {
    border-left-color: var(--low);
  }
  
  @media (max-width: 768px) {
    .bugs-board {
      display: grid;
      grid-template-columns: 1fr;
      gap: var(--space-sm);
    }
    
    .bugs-section {
      margin-top: var(--space-lg);
    }
  }
  
  /* Recurring cards */
  .recurring-card {
    border: 2px solid var(--accent);
    background: linear-gradient(135deg, var(--surface-card) 0%, rgba(155, 93, 229, 0.05) 100%);
  }
  
  .recurring-card .card-title {
    font-weight: 600;
  }

  /* Hamburger Menu */
  .hamburger-menu {
    position: fixed;
    top: 16px;
    right: 16px;
    z-index: 150; /* Above header (z-index: 100) - FIX BLOCKER #1 */
    width: 56px;
    height: 56px;
    background: var(--surface-elevated);
    border-radius: var(--radius-full);
    padding: 12px;
    box-shadow: var(--shadow-lg);
    cursor: pointer;
    transition: transform 0.2s ease, background 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* Desktop: Move hamburger to top left to avoid overlap with "New Card" */
  @media (min-width: 768px) {
    .hamburger-menu {
      left: 20px;
      right: auto;
    }
    
    .nav-menu {
      left: 20px;
      right: auto;
    }
  }
  
  .hamburger-menu:active {
    transform: scale(0.95);
  }
  
  .hamburger-icon {
    width: 24px;
    height: 24px;
    display: flex;
    flex-direction: column;
    justify-content: space-around;
  }
  
  .hamburger-icon span {
    display: block;
    height: 3px;
    background: var(--text-primary);
    border-radius: 2px;
    transition: all 0.3s ease;
  }
  
  .nav-menu {
    position: fixed;
    top: 80px;
    right: 16px;
    z-index: 99;
    background: var(--surface-elevated);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-xl);
    padding: var(--space-md);
    min-width: 200px;
    max-width: 280px;
    display: none;
  }
  
  .nav-menu.active {
    display: block;
    animation: slideIn 0.3s ease;
  }
  
  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .nav-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    min-height: 48px;
    padding: var(--space-md);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: background 0.2s ease;
    color: var(--text-primary);
    text-decoration: none;
    font-weight: 500;
  }
  
  .nav-item:hover {
    background: var(--surface);
  }
  
  .nav-item:active {
    background: var(--border);
  }

  /* Bug cards visibility fix */
  .bug-column .card {
    opacity: 1 !important;
    animation: cardIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  @media (max-width: 768px) {
    .bugs-board {
      display: grid !important;
      grid-template-columns: 1fr;
      gap: var(--space-sm);
      min-height: 100px;
    }
    
    .bug-column {
      min-height: auto;
    }
    
    .bug-column .card {
      margin-bottom: var(--space-sm);
    }
  }

  /* Bug cards dimensions fix */
  .bug-column {
    width: 100%;
    min-width: 280px;
  }
  
  .bug-column .card {
    width: 100%;
    min-height: 120px;
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    padding: var(--space-md);
    box-sizing: border-box;
  }
  
  .bug-column .card-title,
  .bug-column .card-desc,
  .bug-column .card-priority,
  .bug-column .card-footer {
    display: block;
    width: 100%;
  }
  
  @media (max-width: 768px) {
    .bug-column {
      width: 100% !important;
      min-width: unset;
    }
    
    .bug-column .card {
      width: 100% !important;
      min-height: 100px !important;
    }
  }
</style>
</head>
<body>
<!-- Hamburger Menu -->
<div class="hamburger-menu" id="hamburgerBtn" onclick="toggleNav()">
  <div class="hamburger-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<div class="nav-menu" id="navMenu">
  <div class="nav-item" onclick="scrollToSection('board')">
    ğŸ“‹ Main Board
  </div>
  <div class="nav-item" onclick="scrollToSection('bugsBoard')">
    ğŸ› Bug Tracking
  </div>
</div>


<!-- Lock Screen -->
<div class="lock-screen" id="lockScreen" style="display:none">
  <div class="lock-box">
    <div class="lock-icon">ğŸ”’</div>
    <h2 id="lockTitle">Enter Passphrase</h2>
    <p id="lockSubtitle">This board is encrypted</p>
    <div class="password-input-container">
      <input type="password" class="lock-input" id="lockInput" name="passphrase" placeholder="passphrase" autocomplete="current-password" autofocus>
      <button class="password-toggle" id="passwordToggle" onclick="togglePasswordVisibility()" type="button" title="Show/hide password">
        ğŸ‘ï¸
      </button>
    </div>
    <label class="remember-label">
      <input type="checkbox" id="rememberMe" checked>
      <span>Remember for 30 days</span>
    </label>
    <button class="lock-btn" id="lockBtn" onclick="handleAuth()">Unlock</button>
    <div class="lock-error" id="lockError"></div>
    <div class="lock-setup-note" id="lockNote"></div>
    <div style="margin-top: 16px; text-align: center;">
      <a href="#" onclick="resetPassword(); return false;" style="color: var(--text-secondary); font-size: 14px; text-decoration: underline;">
        Reset Password / Start Fresh
      </a>
    </div>
  </div>
</div>

<!-- Desktop Header -->
<div class="header">
  <h1><span>ğŸ“‹</span> Task Board</h1>
  <div class="header-actions">
    <div class="filter-bar" id="filterBar"></div>
    <span class="card-count" id="cardCount"></span>
    <button class="btn btn-sm" onclick="toggleTheme()" id="themeBtn">ğŸŒ™</button>
    <button class="btn btn-primary header-add" onclick="openModal()">
      <span>ï¼‹</span>
      <span class="btn-text">New Card</span>
    </button>
  </div>
</div>

<!-- Mobile Tabs -->
<div class="mobile-tabs" id="mobileTabs">
  <div class="mobile-tabs-inner">
    <button class="mobile-tab active" data-tab="backlog" onclick="switchTab('backlog')">
      Backlog <span class="mobile-tab-count" data-mcount="backlog">0</span>
    </button>
    <button class="mobile-tab" data-tab="next-up" onclick="switchTab('next-up')">
      Next Up <span class="mobile-tab-count" data-mcount="next-up">0</span>
    </button>
    <button class="mobile-tab" data-tab="progress" onclick="switchTab('progress')">
      Active <span class="mobile-tab-count" data-mcount="progress">0</span>
    </button>
    <button class="mobile-tab" data-tab="blocked" onclick="switchTab('blocked')">
      Blocked <span class="mobile-tab-count" data-mcount="blocked">0</span>
    </button>
    <button class="mobile-tab" data-tab="done" onclick="switchTab('done')">
      Done <span class="mobile-tab-count" data-mcount="done">0</span>
    </button>
  </div>
  <div class="mobile-filter-row" id="mobileFilterBar"></div>
</div>

<!-- Board -->
<div class="board" id="board">
  <div class="column" data-col="backlog">
    <div class="column-header">
      <div class="column-title">
        <div class="column-dot"></div>
        <span>Backlog</span>
      </div>
      <span class="column-count" data-count="backlog">0</span>
    </div>
    <div class="column-cards" id="col-backlog">
    </div>
  </div>

  <div class="column" data-col="next-up">
    <div class="column-header">
      <div class="column-title">
        <div class="column-dot"></div>
        <span>Next Up</span>
      </div>
      <span class="column-count" data-count="next-up">0</span>
    </div>
    <div class="column-cards" id="col-next-up"></div>
  </div>

  <div class="column" data-col="progress">
    <div class="column-header">
      <div class="column-title">
        <div class="column-dot"></div>
        <span>In Progress</span>
      </div>
      <span class="column-count" data-count="progress">0</span>
    </div>
    <div class="column-cards" id="col-progress">
    </div>
  </div>

  <div class="column" data-col="blocked">
    <div class="column-header">
      <div class="column-title">
        <div class="column-dot"></div>
        <span>Blocked</span>
      </div>
      <span class="column-count" data-count="blocked">0</span>
    </div>
    <div class="column-cards" id="col-blocked"></div>
  </div>

  <div class="column" data-col="done">
    <div class="column-header">
      <div class="column-title">
        <div class="column-dot"></div>
        <span>Done</span>
      </div>
      <span class="column-count" data-count="done">0</span>
    </div>
    <div class="column-cards" id="col-done"></div>
  </div>
</div>


<!-- Bugs Section -->
<div class="bugs-section">
  <h2 class="section-header">
    <span class="bug-icon">ğŸ›</span>
    Bug Tracking
    <span class="bugs-count" id="totalBugsCount">0</span>
  </h2>
  
  <div class="bugs-board" id="bugsBoard">
    <div class="column bug-column" data-col="bug-backlog">
      <div class="column-header">
        <div class="column-title">
          <div class="column-dot" style="background: var(--text-tertiary);"></div>
          <span>Backlog</span>
        </div>
        <span class="column-count" data-count="bug-backlog">0</span>
      </div>
      <div class="column-cards" id="col-bug-backlog"></div>
    </div>

    <div class="column bug-column" data-col="bug-fixing">
      <div class="column-header">
        <div class="column-title">
          <div class="column-dot" style="background: var(--warning);"></div>
          <span>Fixing</span>
        </div>
        <span class="column-count" data-count="bug-fixing">0</span>
      </div>
      <div class="column-cards" id="col-bug-fixing"></div>
    </div>

    <div class="column bug-column" data-col="bug-testing">
      <div class="column-header">
        <div class="column-title">
          <div class="column-dot" style="background: var(--secondary);"></div>
          <span>Testing</span>
        </div>
        <span class="column-count" data-count="bug-testing">0</span>
      </div>
      <div class="column-cards" id="col-bug-testing"></div>
    </div>

    <div class="column bug-column" data-col="bug-fixed">
      <div class="column-header">
        <div class="column-title">
          <div class="column-dot" style="background: var(--success);"></div>
          <span>Fixed</span>
        </div>
        <span class="column-count" data-count="bug-fixed">0</span>
      </div>
      <div class="column-cards" id="col-bug-fixed"></div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer style="margin-top: 4rem; padding: 2rem 1rem; text-align: center; background: var(--surface-card); border-top: 1px solid var(--border);">
  <div style="margin-bottom: 0.5rem; color: var(--text-secondary); font-size: 0.875rem;">
    ğŸ“‹ Task Board â€¢ <a href="https://swordtruth-kanban.netlify.app" style="color: var(--primary); text-decoration: none;">swordtruth-kanban.netlify.app</a>
  </div>
  <div style="color: var(--text-tertiary); font-size: 0.75rem;">
    ğŸ› <strong>Mobile Debugging:</strong> Tap the floating icon (bottom-right) to open Eruda console
  </div>
</footer>

<!-- Mobile FABs -->
<button class="mobile-theme-toggle" id="mobileThemeBtn" onclick="toggleTheme()">ğŸŒ™</button>
<button class="mobile-add-fab" id="mobileAddBtn" onclick="openModal()">ï¼‹</button>

<!-- Modal -->
<div class="modal-overlay" id="modalOverlay" onclick="handleOverlayClick(event)">
  <div class="modal" id="modal">
    <h2 id="modalTitle">New Card</h2>
    <div class="form-group">
      <label for="cardTitleInput">Title</label>
      <input type="text" id="cardTitleInput" placeholder="Card title..." autofocus>
    </div>
    <div class="form-group">
      <label for="cardDescInput">Description</label>
      <textarea id="cardDescInput" placeholder="Brief description..."></textarea>
    </div>
    <div class="form-group">
      <label for="cardPriorityInput">Priority</label>
      <select id="cardPriorityInput">
        <option value="critical">ğŸ”¥ Critical</option>
        <option value="high">ğŸ”´ High</option>
        <option value="medium" selected>ğŸŸ¡ Medium</option>
        <option value="low">ğŸŸ¢ Low</option>
      </select>
    </div>
    <div class="form-group">
      <label for="cardTagInput">Tag</label>
      <input type="text" id="cardTagInput" placeholder="e.g. infrastructure, content, research">
    </div>
    <div class="form-group">
      <label for="cardColumnInput">Status</label>
      <select id="cardColumnInput">
        <option value="backlog">Backlog</option>
        <option value="next-up">Next Up</option>
        <option value="progress">In Progress</option>
        <option value="blocked">Blocked</option>
        <option value="done">Done</option>
      </select>
    </div>
    <div class="modal-actions">
      <div>
        <button class="btn btn-danger btn-sm" id="deleteBtn" onclick="deleteCard()" style="display:none">Delete</button>
      </div>
      <div class="modal-actions-right">
        <button class="btn" onclick="closeModal()">Cancel</button>
        <button class="btn btn-primary" onclick="saveCard()">Save</button>
      </div>
    </div>
  </div>
</div>

<script>

// Global constants
const STORAGE_KEY = 'task board-board-data';
const VERSION_KEY = 'kanban_data_version';
const SYNC_URL = '/.netlify/functions/sync-tasks';

// ONE-TIME INITIALIZATION: Import hardcoded cards to localStorage
(function() {
  const STORAGE_KEY = 'task board-board-data';
  const VERSION_KEY = 'kanban_data_version';
  const CURRENT_VERSION = '2'; // Increment to force re-migration
  
  // Check if data needs migration
  const existingData = localStorage.getItem(STORAGE_KEY);
  const existingVersion = localStorage.getItem(VERSION_KEY);
  const isInitialized = localStorage.getItem('kanban_initialized') === 'true';
  
  // If version mismatch AND data exists, just mark for migration (don't reimport!)
  if (existingData && existingVersion !== CURRENT_VERSION) {
    console.log(`ğŸ”„ Data version mismatch (${existingVersion} -> ${CURRENT_VERSION}) - migration will run on load`);
    // Don't set the version here - let migration do it
    // Don't clear init flag - data exists, just needs migration
    return; // Exit without reimporting
  }
  
  if (isInitialized && existingData && existingVersion === CURRENT_VERSION) {
    const cards = JSON.parse(existingData);
    console.log(`âœ… Cards already initialized v${CURRENT_VERSION} (${cards.length} cards found)`);
    return;
  }
  
  // If flag is set but no data, clear flag and reinitialize
  if (isInitialized && !existingData) {
    console.log('âš ï¸ Initialization flag set but no cards found - reinitializing...');
    localStorage.removeItem('kanban_initialized');
  }
  
  // Import cards (only if no existing data)
  const cards = 
  [
  {
    "id": 1770521031234,
    "title": "Test Agent: Audit all 9 apps against standard features checklist (54 features)",
    "description": "**User Story:**\nAs a Test Agent, I want to audit all 9 applications against the standard features checklist so that we can identify gaps, inconsistencies, and prioritize fixes to ensure consistent quality across all products.\n\n**Acceptance Criteria:**\n- Given the standard features checklist with 54 features\n- When I audit each of the 9 applications\n- Then I generate an audit report for each app showing:\n  - Pass/fail status for each of the 54 features\n  - Overall compliance percentage\n  - List of missing features\n  - List of bugs found (50-80 expected across all apps)\n  - Priority ranking of issues\n- Each audit report is saved in a structured format\n- All 9 audit reports are completed within 1 day\n- Total bug count is between 50-80 issues",
    "col": "done",
    "priority": "critical",
    "tag": "testing",
    "tags": [
      "testing",
      "audit",
      "1-day"
    ],
    "agent": "Test Agent | 9 audit reports + 50-80 bugs",
    "created": 1770520938235,
    "order": 0,
    "storyNumber": "US-001"
  },
  {
    "id": 1770521031235,
    "title": "Designer Agent: Create unified design spec for standard features (8 categories, 20 UX tests each)",
    "description": "**User Story:**\nAs a Designer Agent, I want to create a unified design specification for standard features so that all applications have consistent UX patterns and can be tested systematically.\n\n**Acceptance Criteria:**\n- The design spec covers 8 feature categories\n- Each category includes 20 UX test cases (160 total)\n- Design spec includes:\n  - Visual hierarchy guidelines\n  - Touch target specifications\n  - Information architecture patterns\n  - Feedback and state management\n  - Accessibility requirements\n  - Responsive design breakpoints\n  - Color and typography standards\n  - Component library references\n- All specifications are measurable and testable\n- Deliverable is saved as STANDARD-FEATURES-DESIGN-SPEC.md\n- Completion time: 2 days",
    "col": "next-up",
    "priority": "high",
    "tag": "design",
    "tags": [
      "design",
      "ux",
      "2-days"
    ],
    "agent": "Designer Agent (Alex) | STANDARD-FEATURES-DESIGN-SPEC.md",
    "created": 1770520939235,
    "order": 0,
    "storyNumber": "US-002"
  },
  {
    "id": 1770521031236,
    "title": "Architect: Fix Task Board - Implement all missing standard features (3-4 hours)",
    "description": "**User Story:**\nAs an Architect Agent, I want to implement all missing standard features in the Task Board so that it achieves \u226590% compliance with our standard features checklist and provides a high-quality user experience.\n\n**Acceptance Criteria:**\n- Given the audit report showing missing features\n- When I implement the fixes\n- Then the Task Board:\n  - Achieves \u226590% compliance on standard features checklist\n  - Scores \u226590 on all Lighthouse metrics (Performance, Accessibility, Best Practices, SEO)\n  - All implementations follow the unified design spec\n  - All changes are tested and verified\n  - Code is committed with descriptive commit messages\n- Completion time: 3-4 hours\n- No regressions in existing functionality",
    "col": "backlog",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "implementation",
      "architect"
    ],
    "agent": "Architect Agent (Marcus) | \u226590% checklist, Lighthouse \u226590",
    "created": 1770520940235,
    "order": 2,
    "storyNumber": "US-003"
  },
  {
    "id": 1770521031237,
    "title": "Architect: Fix Tokyo/Osaka Trip - Implement all missing standard features (3-4 hours)",
    "description": "**User Story:**\nAs an Architect Agent, I want to implement all missing standard features in the Tokyo/Osaka Trip Map so that it achieves \u226590% compliance and provides an excellent travel planning experience.\n\n**Acceptance Criteria:**\n- Given the audit report showing missing features\n- When I implement the fixes\n- Then the Trip Map:\n  - Achieves \u226590% compliance on standard features checklist\n  - Scores \u226590 on all Lighthouse metrics\n  - All implementations follow the unified design spec\n  - Google Maps integration is fully functional\n  - Timeline filtering works correctly\n  - All changes are tested and verified\n- Completion time: 3-4 hours\n- No regressions in map functionality or data display",
    "col": "backlog",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "implementation",
      "architect"
    ],
    "agent": "Architect Agent (Marcus) | \u226590% checklist, Lighthouse \u226590",
    "created": 1770520941235,
    "order": 3,
    "storyNumber": "US-004"
  },
  {
    "id": 1770521031238,
    "title": "Architect: Fix Scholarship Hunt Pro - Implement all missing standard features (3-4 hours)",
    "description": "**User Story:**\nAs an Architect Agent, I want to implement all missing standard features in Scholarship Hunt Pro so that students have a reliable, high-quality tool for finding and tracking scholarship opportunities.\n\n**Acceptance Criteria:**\n- Given the audit report showing missing features\n- When I implement the fixes\n- Then Scholarship Hunt Pro:\n  - Achieves \u226590% compliance on standard features checklist\n  - Scores \u226590 on all Lighthouse metrics\n  - 6-step onboarding flow is complete and functional\n  - Search and filtering work correctly\n  - All implementations follow the unified design spec\n  - Changes are tested and verified\n- Completion time: 3-4 hours\n- No data loss or search functionality regressions",
    "col": "backlog",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "implementation",
      "architect"
    ],
    "agent": "Architect Agent (Marcus) | \u226590% checklist, Lighthouse \u226590",
    "created": 1770520942235,
    "order": 4,
    "storyNumber": "US-005"
  },
  {
    "id": 1770521031239,
    "title": "Architect: Fix TikTok Downloader - Implement all missing standard features (3-4 hours)",
    "description": "**User Story:**\nAs an Architect Agent, I want to implement all missing standard features in the TikTok Downloader so that users can reliably download TikTok content with a polished, professional interface.\n\n**Acceptance Criteria:**\n- Given the audit report showing missing features\n- When I implement the fixes\n- Then TikTok Downloader:\n  - Achieves \u226590% compliance on standard features checklist\n  - Scores \u226590 on all Lighthouse metrics\n  - Download functionality is reliable and fast\n  - Error handling is comprehensive\n  - All implementations follow the unified design spec\n- Completion time: 3-4 hours\n- No regressions in download functionality",
    "col": "backlog",
    "priority": "med",
    "tag": "coding",
    "tags": [
      "implementation",
      "architect"
    ],
    "agent": "Architect Agent (Marcus)",
    "created": 1770520943235,
    "order": 5,
    "storyNumber": "US-006"
  },
  {
    "id": 1770521031240,
    "title": "Architect: Fix Viral Score Analyzer - Implement all missing standard features (3-4 hours)",
    "description": "**User Story:**\nAs an Architect Agent, I want to implement all missing standard features in the Viral Score Analyzer so that content creators get accurate, actionable insights in a professional tool.\n\n**Acceptance Criteria:**\n- Given the audit report showing missing features\n- When I implement the fixes\n- Then Viral Score Analyzer:\n  - Achieves \u226590% compliance on standard features checklist\n  - Scores \u226590 on all Lighthouse metrics\n  - Analysis algorithms work correctly\n  - Data visualization is clear and accessible\n  - All implementations follow the unified design spec\n- Completion time: 3-4 hours\n- Analysis accuracy is maintained or improved",
    "col": "backlog",
    "priority": "med",
    "tag": "coding",
    "tags": [
      "implementation",
      "architect"
    ],
    "agent": "Architect Agent (Marcus)",
    "created": 1770520944235,
    "order": 6,
    "storyNumber": "US-007"
  },
  {
    "id": 1770521031241,
    "title": "Architect: Fix ThreadCraft AI - Implement all missing standard features (3-4 hours)",
    "description": "**User Story:**\nAs an Architect Agent, I want to implement all missing standard features in ThreadCraft AI so that users can create engaging Twitter threads with an AI-powered, professional tool.\n\n**Acceptance Criteria:**\n- Given the audit report showing missing features\n- When I implement the fixes\n- Then ThreadCraft AI:\n  - Achieves \u226590% compliance on standard features checklist\n  - Scores \u226590 on all Lighthouse metrics\n  - AI thread generation works reliably\n  - Thread preview and editing is functional\n  - All implementations follow the unified design spec\n- Completion time: 3-4 hours\n- AI response quality is maintained",
    "col": "backlog",
    "priority": "med",
    "tag": "coding",
    "tags": [
      "implementation",
      "architect"
    ],
    "agent": "Architect Agent (Marcus)",
    "created": 1770520945235,
    "order": 7,
    "storyNumber": "US-008"
  },
  {
    "id": 1770521031242,
    "title": "Architect: Fix AgentHub - Implement all missing standard features (3-4 hours)",
    "description": "**User Story:**\nAs an Architect Agent, I want to implement all missing standard features in AgentHub so that users can manage their AI agents effectively through a polished interface.\n\n**Acceptance Criteria:**\n- Given the audit report showing missing features\n- When I implement the fixes\n- Then AgentHub:\n  - Achieves \u226590% compliance on standard features checklist\n  - Scores \u226590 on all Lighthouse metrics\n  - Agent management features work correctly\n  - Dashboard displays accurate data\n  - All implementations follow the unified design spec\n- Completion time: 3-4 hours\n- No data integrity issues",
    "col": "backlog",
    "priority": "low",
    "tag": "coding",
    "tags": [
      "implementation",
      "architect"
    ],
    "agent": "Architect Agent (Marcus)",
    "created": 1770520946235,
    "order": 8,
    "storyNumber": "US-009"
  },
  {
    "id": 1770521031243,
    "title": "Architect: Fix ClawMetrics - Implement all missing standard features (3-4 hours)",
    "description": "**User Story:**\nAs an Architect Agent, I want to implement all missing standard features in ClawMetrics so that users can track their metrics with accurate, real-time data visualization.\n\n**Acceptance Criteria:**\n- Given the audit report showing missing features\n- When I implement the fixes\n- Then ClawMetrics:\n  - Achieves \u226590% compliance on standard features checklist\n  - Scores \u226590 on all Lighthouse metrics\n  - Data collection is accurate and reliable\n  - Visualizations render correctly\n  - All implementations follow the unified design spec\n- Completion time: 3-4 hours\n- Metric accuracy is maintained",
    "col": "backlog",
    "priority": "low",
    "tag": "coding",
    "tags": [
      "implementation",
      "architect"
    ],
    "agent": "Architect Agent (Marcus)",
    "created": 1770520947235,
    "order": 9,
    "storyNumber": "US-010"
  },
  {
    "id": 1770521031244,
    "title": "Architect: Fix TPUSA Intel - Implement all missing standard features (3-4 hours)",
    "description": "**User Story:**\nAs an Architect Agent, I want to implement all missing standard features in TPUSA Intel so that users can access political intelligence through a professional, reliable platform.\n\n**Acceptance Criteria:**\n- Given the audit report showing missing features\n- When I implement the fixes\n- Then TPUSA Intel:\n  - Achieves \u226590% compliance on standard features checklist\n  - Scores \u226590 on all Lighthouse metrics\n  - Data retrieval is fast and accurate\n  - Search and filtering work correctly\n  - All implementations follow the unified design spec\n- Completion time: 3-4 hours\n- No data accuracy regressions",
    "col": "backlog",
    "priority": "low",
    "tag": "coding",
    "tags": [
      "implementation",
      "architect"
    ],
    "agent": "Architect Agent (Marcus)",
    "created": 1770520948235,
    "order": 10,
    "storyNumber": "US-011"
  },
  {
    "id": 1770521031245,
    "title": "Test Agent: Final verification - All 9 apps meet \u226590% standard features compliance",
    "description": "**User Story:**\nAs a Test Agent, I want to perform final verification testing on all 9 applications after fixes are implemented so that we can confirm they meet our quality standards before release.\n\n**Acceptance Criteria:**\n- Given that all Architect fixes are complete\n- When I run final verification tests\n- Then for each of the 9 applications:\n  - Standard features compliance is \u226590%\n  - Lighthouse scores are \u226590 across all metrics\n  - No critical bugs exist\n  - All previously identified bugs are fixed\n  - Regression tests pass\n  - Final test report is generated\n- All 9 final test reports are completed\n- Overall compliance rate across all apps is documented\n- Any remaining issues are logged with priority levels",
    "col": "backlog",
    "priority": "high",
    "tag": "testing",
    "tags": [
      "testing",
      "verification"
    ],
    "agent": "Test Agent | 9 final test reports",
    "created": 1770520949235,
    "order": 11,
    "storyNumber": "US-012"
  },
  {
    "id": 1770521031246,
    "title": "Apply simple password pattern to Mobileclaw vault unlock",
    "description": "**User Story:**\nAs a Mobileclaw user, I want to use a simple password pattern (like a PIN or pattern lock) to unlock my vault so that I can quickly access my secure data without typing long passwords.\n\n**Acceptance Criteria:**\n- User can set up a pattern lock (4-9 dots minimum)\n- Pattern entry interface is smooth and responsive\n- Invalid pattern attempts show clear feedback\n- After 5 failed attempts, user must authenticate with full password\n- Pattern can be changed in settings\n- Pattern unlock works offline\n- Pattern is stored securely (hashed, not plaintext)\n- Biometric unlock (fingerprint/face) can be enabled as alternative\n- Works on both iOS and Android\n- Meets security-auditor approval",
    "col": "backlog",
    "priority": "critical",
    "tag": "planning",
    "tags": [
      "\ud83d\udca1 from idea",
      "security-auditor"
    ],
    "agent": "",
    "created": 1770520950235,
    "order": 12,
    "storyNumber": "US-013"
  },
  {
    "id": 1770521031247,
    "title": "Build Security Dashboard for Mobileclaw (vault settings, network monitor, privacy controls)",
    "description": "**User Story:**\nAs a Mobileclaw user, I want a centralized Security Dashboard so that I can manage all security settings, monitor network activity, and control privacy features in one place.\n\n**Acceptance Criteria:**\n- Dashboard displays current security status at a glance\n- Vault settings section includes:\n  - Password/pattern management\n  - Biometric settings\n  - Auto-lock timeout configuration\n  - Backup/restore options\n- Network monitor section shows:\n  - Active connections\n  - Data usage\n  - Connection security status\n- Privacy controls include:\n  - App permissions management\n  - Data sharing preferences\n  - Clear cache/data options\n- All settings changes take effect immediately\n- Dashboard is accessible from main menu\n- Follows design spec with 20 UX test cases",
    "col": "backlog",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "coding"
    ],
    "agent": "",
    "created": 1770520951235,
    "order": 13,
    "storyNumber": "US-014"
  },
  {
    "id": 1770521031248,
    "title": "Build Cloud Setup Wizard (AWS S3/DynamoDB/Lambda + Google Cloud)",
    "description": "**User Story:**\nAs a Mobileclaw user, I want a step-by-step Cloud Setup Wizard so that I can easily configure cloud storage and sync without technical knowledge.\n\n**Acceptance Criteria:**\n- Wizard guides user through 5-7 clear steps\n- Supports AWS configuration:\n  - S3 bucket setup for file storage\n  - DynamoDB for data sync\n  - Lambda for serverless functions\n- Supports Google Cloud configuration:\n  - Cloud Storage\n  - Cloud Firestore\n- Each step includes:\n  - Clear instructions with screenshots\n  - Validation before proceeding\n  - Help text and troubleshooting tips\n- User can test connection before completing setup\n- Configuration is saved securely\n- Setup can be modified later in settings\n- Works offline (saves config, applies when online)",
    "col": "backlog",
    "priority": "high",
    "tag": "infra",
    "tags": [
      "infra"
    ],
    "agent": "",
    "created": 1770520952236,
    "order": 14,
    "storyNumber": "US-015"
  },
  {
    "id": 1770521031249,
    "title": "Integrate AdMob monetization (banner, interstitial, rewarded ads)",
    "description": "**User Story:**\nAs a product owner, I want to integrate AdMob ads into the free version of Mobileclaw so that we can generate revenue while keeping the app free for users who don't want to pay.\n\n**Acceptance Criteria:**\n- Banner ads display at bottom of appropriate screens (not blocking core functionality)\n- Interstitial ads show:\n  - After completing major actions\n  - Maximum once per 5 minutes\n  - Never during critical workflows\n- Rewarded ads offer:\n  - Premium features for limited time\n  - Extra storage/credits\n  - Clear value proposition before viewing\n- Ads load without blocking UI\n- Failed ad loads don't crash app or show errors to user\n- Ads respect user's region and content preferences\n- Ad-free zones: authentication, payment, settings\n- Performance impact is minimal (no lag)\n- Works on both iOS and Android",
    "col": "backlog",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "coding"
    ],
    "agent": "",
    "created": 1770520953236,
    "order": 15,
    "storyNumber": "US-016"
  },
  {
    "id": 1770521031250,
    "title": "Create paid version ($4.99 one-time, no ads, premium features)",
    "description": "**User Story:**\nAs a Mobileclaw user, I want to purchase a premium version for a one-time payment so that I can enjoy an ad-free experience with premium features forever.\n\n**Acceptance Criteria:**\n- One-time purchase of $4.99 (no subscriptions)\n- Purchase flow is simple and secure (Apple/Google in-app purchase)\n- Premium features include:\n  - No ads anywhere in the app\n  - Unlimited cloud storage\n  - Advanced vault features\n  - Priority support\n  - All future premium features\n- Purchase is restored across devices when user signs in\n- Free trial available (7 days)\n- Clear comparison of free vs paid features before purchase\n- Receipt is provided\n- Refund policy is clearly stated\n- Works offline (checks purchase status when online)",
    "col": "backlog",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "coding"
    ],
    "agent": "",
    "created": 1770520954236,
    "order": 16,
    "storyNumber": "US-017"
  },
  {
    "id": 1770521031251,
    "title": "Design trip map v3 timeline filtering UI - 20 UX test cases",
    "description": "**User Story:**\nAs a Designer Agent, I want to design an intuitive timeline filtering UI for the trip map so that users can easily filter their itinerary by date, category, or activity type.\n\n**Acceptance Criteria:**\n- Design spec includes:\n  - Filter button placement and appearance\n  - Filter panel layout (expandable or modal)\n  - Filter options: date range, category (food, sightseeing, transport, accommodation)\n  - Active filter indicators\n  - Clear all filters action\n  - Mobile-first responsive design\n- 20 UX test cases cover:\n  - Visual hierarchy (4 tests)\n  - Touch targets (4 tests)\n  - Information architecture (4 tests)\n  - Feedback & states (4 tests)\n  - Accessibility (4 tests)\n- Designs include light/dark mode\n- Interactive prototype or detailed mockups\n- Design follows established patterns from design system",
    "col": "backlog",
    "priority": "high",
    "tag": "design",
    "tags": [
      "design",
      "testing"
    ],
    "agent": "",
    "created": 1770520955236,
    "order": 17,
    "storyNumber": "US-018"
  },
  {
    "id": 1770521031252,
    "title": "Design trip map v3 train schedule section - accessibility review",
    "description": "**User Story:**\nAs a Designer Agent, I want to design the train schedule section with full accessibility compliance so that all users, including those with disabilities, can easily view and understand train schedules for their trip.\n\n**Acceptance Criteria:**\n- Design includes:\n  - Train line information (JR, Tokyo Metro, Osaka lines)\n  - Departure/arrival times\n  - Platform numbers\n  - Travel duration\n  - Transfer information\n  - Real-time status indicators\n- Accessibility features:\n  - WCAG 2.1 AA compliance minimum\n  - Screen reader compatible structure\n  - Sufficient color contrast (4.5:1 minimum)\n  - Touch targets \u226544x44px\n  - Clear focus indicators\n  - Text resizable without breaking layout\n- Design works on mobile (320px) to desktop (1920px)\n- Includes error states (train delayed, cancelled)\n- Accessibility audit checklist completed",
    "col": "backlog",
    "priority": "high",
    "tag": "design",
    "tags": [
      "design"
    ],
    "agent": "",
    "created": 1770520956236,
    "order": 18,
    "storyNumber": "US-019"
  },
  {
    "id": 1770521031253,
    "title": "Create DESIGN-SPEC.md for trip map markers and info windows",
    "description": "**User Story:**\nAs a Designer Agent, I want to create a comprehensive design specification for map markers and info windows so that developers can implement them consistently and users get a polished map experience.\n\n**Acceptance Criteria:**\n- DESIGN-SPEC.md includes:\n  - Marker designs for each category (food, hotel, activity, transport)\n  - Marker states: default, hover, selected, clustered\n  - Marker size specifications (px dimensions)\n  - Info window layout and content structure\n  - Info window interactions (open, close, expand)\n  - Animation specifications (timing, easing)\n  - Color palette for each marker type\n  - Typography specifications\n  - Mobile vs desktop differences\n- Spec includes code examples or implementation notes\n- Designs are attached as images/Figma links\n- Edge cases documented (overlapping markers, off-screen markers)\n- Accessibility considerations included",
    "col": "backlog",
    "priority": "medium",
    "tag": "design",
    "tags": [
      "design"
    ],
    "agent": "",
    "created": 1770520957236,
    "order": 19,
    "storyNumber": "US-020"
  },
  {
    "id": 1770521031254,
    "title": "Write UX-RATIONALE.md for Places mobile-first approach",
    "description": "**User Story:**\nAs a Designer Agent, I want to document the UX rationale for our mobile-first approach in the Places feature so that the team understands design decisions and future designers can maintain consistency.\n\n**Acceptance Criteria:**\n- UX-RATIONALE.md includes:\n  - Why mobile-first was chosen\n  - User research or data supporting the decision\n  - Key mobile use cases\n  - Mobile constraints considered (screen size, touch, network)\n  - Desktop enhancement strategy\n  - Accessibility benefits of mobile-first\n  - Performance considerations\n  - Competitive analysis (similar apps)\n  - User personas and scenarios\n- Document is clear, concise (2-4 pages)\n- Includes examples and references\n- Updated as design evolves",
    "col": "backlog",
    "priority": "critical",
    "tag": "design",
    "tags": [
      "design"
    ],
    "agent": "",
    "created": 1770520958236,
    "order": 20,
    "storyNumber": "US-021"
  },
  {
    "id": 1770521031255,
    "title": "Design Mobileclaw Places feature - Google Maps integration",
    "description": "**User Story:**\nAs a Designer Agent, I want to design the Mobileclaw Places feature with Google Maps integration so that users can discover, save, and organize locations for their trips on mobile.\n\n**Acceptance Criteria:**\n- Design includes:\n  - Map view with custom markers\n  - Place search interface\n  - Place details screen (photos, reviews, hours)\n  - Save to trip functionality\n  - Trip organization (categories, dates)\n  - Navigation integration\n  - Offline mode design\n- Mobile-first (320px to 428px width)\n- 20 UX test cases included\n- Follows Google Maps design guidelines\n- Integrates with existing Mobileclaw navigation\n- Light and dark mode designs\n- Interactive prototype or high-fidelity mockups\n- Performance considerations documented",
    "col": "backlog",
    "priority": "high",
    "tag": "design",
    "tags": [
      "design",
      "mobile"
    ],
    "agent": "",
    "created": 1770520959236,
    "order": 21,
    "storyNumber": "US-022"
  },
  {
    "id": 1770521031256,
    "title": "Design Mobileclaw Second Brain UI - ideas\u2192tasks flow",
    "description": "**User Story:**\nAs a Designer Agent, I want to design the Second Brain UI with a seamless ideas-to-tasks flow so that users can capture thoughts and convert them into actionable tasks effortlessly.\n\n**Acceptance Criteria:**\n- Design includes:\n  - Quick capture interface (voice, text, image)\n  - Ideas inbox view\n  - Idea detail/edit screen\n  - Convert to task workflow (one tap)\n  - Task board integration\n  - Categories and tags\n  - Search and filtering\n- Flow optimized for speed (capture idea in <10 seconds)\n- Gestures for quick actions (swipe to convert, long-press for options)\n- Mobile-first design\n- 20 UX test cases included\n- Integrates with existing task board design\n- Offline-first design\n- Handles large volumes (1000+ ideas)",
    "col": "backlog",
    "priority": "high",
    "tag": "design",
    "tags": [
      "design",
      "mobile"
    ],
    "agent": "",
    "created": 1770520960236,
    "order": 22,
    "storyNumber": "US-023"
  },
  {
    "id": 1770521031257,
    "title": "Design Mobileclaw Security Dashboard - vault settings screen",
    "description": "**User Story:**\nAs a Designer Agent, I want to design the Security Dashboard vault settings screen so that users can easily manage their security preferences with confidence.\n\n**Acceptance Criteria:**\n- Design includes:\n  - Security status overview\n  - Password/pattern management\n  - Biometric settings toggle\n  - Auto-lock timeout options (30s, 1m, 5m, 15m, never)\n  - Backup vault option\n  - Restore vault option\n  - Delete vault (with confirmation)\n  - Security tips and best practices\n- Clear visual hierarchy (most important settings first)\n- Destructive actions are clearly marked and require confirmation\n- Mobile-first design\n- Follows platform conventions (iOS/Android)\n- Includes all states (loading, success, error)\n- Accessibility compliant",
    "col": "backlog",
    "priority": "critical",
    "tag": "design",
    "tags": [
      "design",
      "mobile"
    ],
    "agent": "",
    "created": 1770520961236,
    "order": 23,
    "storyNumber": "US-024"
  },
  {
    "id": 1770521031258,
    "title": "Design Mobileclaw Cloud Wizard - step-by-step wizard UI",
    "description": "**User Story:**\nAs a Designer Agent, I want to design a step-by-step Cloud Setup Wizard so that non-technical users can configure cloud storage without feeling overwhelmed.\n\n**Acceptance Criteria:**\n- Wizard has 5-7 clear steps with progress indicator\n- Each step includes:\n  - Clear heading and description\n  - Visual aids (icons, screenshots)\n  - Input fields with validation\n  - Help text and examples\n  - Next/Back navigation\n- Design includes:\n  - Provider selection (AWS, Google Cloud)\n  - Credential input screens\n  - Test connection screen\n  - Success confirmation\n  - Troubleshooting tips for common errors\n- Mobile-first responsive design\n- Can save progress and resume later\n- Skip wizard option for advanced users\n- Follows established wizard patterns",
    "col": "backlog",
    "priority": "critical",
    "tag": "design",
    "tags": [
      "design",
      "mobile"
    ],
    "agent": "",
    "created": 1770520962236,
    "order": 24,
    "storyNumber": "US-025"
  },
  {
    "id": 1770521031259,
    "title": "Design Mobileclaw AdMob integration - banner placement",
    "description": "**User Story:**\nAs a Designer Agent, I want to design optimal ad placement for AdMob integration so that ads generate revenue without degrading the user experience.\n\n**Acceptance Criteria:**\n- Design specifies:\n  - Banner ad placement on each major screen\n  - Banner size (320x50 standard)\n  - Distance from interactive elements (minimum 8px)\n  - Screens that should be ad-free (auth, payment, settings)\n  - Interstitial ad trigger points\n  - Rewarded ad UI and value proposition\n- Ads never block core functionality\n- Ads are visually distinct from content\n- Close/skip buttons are clearly visible\n- Loading states for ads\n- Fallback design when ads fail to load\n- A/B testing strategy for ad placement\n- User feedback mechanism for inappropriate ads",
    "col": "backlog",
    "priority": "low",
    "tag": "design",
    "tags": [
      "design",
      "mobile"
    ],
    "agent": "",
    "created": 1770520963236,
    "order": 25,
    "storyNumber": "US-026"
  },
  {
    "id": 1770521031260,
    "title": "Fix Mobileclaw security - AES-256-GCM vault encryption",
    "description": "**User Story:**\nAs a Mobileclaw user, I want my vault data encrypted with AES-256-GCM so that my sensitive information is secure even if my device is compromised.\n\n**Acceptance Criteria:**\n- Given user creates or unlocks vault\n- When data is stored in the vault\n- Then:\n  - All vault data is encrypted with AES-256-GCM\n  - Encryption key is derived from user's password using PBKDF2\n  - Encrypted data includes authentication tag (GCM mode)\n  - Key derivation uses high iteration count (\u2265100,000)\n  - Random salt and IV are generated for each encryption\n  - No plaintext data is stored on device\n  - Encryption/decryption happens in memory\n- Performance: Encrypt/decrypt operations complete in <100ms\n- Works offline\n- Passes security audit",
    "col": "backlog",
    "priority": "critical",
    "tag": "mobile",
    "tags": [
      "mobile",
      "security"
    ],
    "agent": "",
    "created": 1770520964236,
    "order": 26,
    "storyNumber": "US-027"
  },
  {
    "id": 1770521031261,
    "title": "Fix Mobileclaw security - PBKDF2 password hashing",
    "description": "**User Story:**\nAs a Mobileclaw developer, I want to use PBKDF2 for password hashing so that user passwords are protected against brute-force attacks even if the hash is compromised.\n\n**Acceptance Criteria:**\n- Given user sets a password\n- When password is hashed\n- Then:\n  - PBKDF2 algorithm is used with SHA-256\n  - Iteration count is \u2265100,000 (OWASP recommendation)\n  - Random salt is generated for each user (\u2265128 bits)\n  - Salt is stored alongside hash\n  - Hash is stored securely (not in plain text)\n  - Password verification uses constant-time comparison\n- Performance: Hashing completes in <500ms\n- Iteration count can be increased in future without breaking existing hashes\n- Passes security audit\n- No passwords stored in logs or error messages",
    "col": "backlog",
    "priority": "critical",
    "tag": "mobile",
    "tags": [
      "mobile",
      "security"
    ],
    "agent": "",
    "created": 1770520965236,
    "order": 27,
    "storyNumber": "US-028"
  },
  {
    "id": 1770521031262,
    "title": "Build Mobileclaw Second Brain - deeply integrated with task board",
    "description": "**User Story:**\nAs a Mobileclaw user, I want a Second Brain feature deeply integrated with my task board so that I can quickly capture ideas and convert them to tasks without switching contexts.\n\n**Acceptance Criteria:**\n- Quick capture from any screen (floating action button)\n- Capture methods: text, voice note, image, web link\n- Ideas automatically sync with task board\n- One-tap conversion from idea to task\n- Ideas can be:\n  - Tagged and categorized\n  - Searched and filtered\n  - Edited and enriched over time\n  - Archived or deleted\n- Integration features:\n  - Tasks can link back to original idea\n  - Ideas show if they've been converted to tasks\n  - Bulk operations (convert multiple ideas)\n- Works offline (syncs when online)\n- Fast performance (capture in <5 seconds)\n- Follows design spec with 20 UX tests passing \u226585%",
    "col": "backlog",
    "priority": "high",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770520966236,
    "order": 28,
    "storyNumber": "US-029"
  },
  {
    "id": 1770521031263,
    "title": "Build Mobileclaw Places feature - trip planning + Google Maps",
    "description": "**User Story:**\nAs a Mobileclaw user, I want a Places feature with Google Maps integration so that I can research destinations, save interesting locations, and plan my trips all in one app.\n\n**Acceptance Criteria:**\n- Google Maps integration:\n  - Interactive map with pan/zoom\n  - Custom markers for saved places\n  - Place search using Google Places API\n  - Place details (photos, reviews, hours, contact)\n  - Street View integration\n  - Navigation to places\n- Trip planning features:\n  - Create multiple trips\n  - Add places to trips\n  - Organize by date/category\n  - Itinerary view (timeline)\n  - Share trip with others\n- Works offline (cached maps and data)\n- Performance: Map loads in <2 seconds\n- Follows design spec with 20 UX tests passing \u226585%",
    "col": "backlog",
    "priority": "high",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770520967236,
    "order": 29,
    "storyNumber": "US-030"
  },
  {
    "id": 1770521031264,
    "title": "Build Mobileclaw Security Dashboard - vault + network + privacy",
    "description": "**User Story:**\nAs a Mobileclaw user, I want a comprehensive Security Dashboard so that I can monitor and control all security aspects of the app from one place.\n\n**Acceptance Criteria:**\n- Dashboard sections:\n  - **Vault Settings:** Password/pattern, biometric, auto-lock, backup/restore\n  - **Network Monitor:** Active connections, data usage, connection security\n  - **Privacy Controls:** App permissions, data sharing, clear cache\n- Features:\n  - Real-time security status overview\n  - Alerts for security issues\n  - One-tap actions for common tasks\n  - Detailed logs (last accessed, connection history)\n  - Export security report\n- All changes take effect immediately\n- Secure authentication required to access dashboard\n- Settings persist across app restarts\n- Works offline (syncs settings when online)\n- Follows design spec",
    "col": "backlog",
    "priority": "high",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770520968236,
    "order": 30,
    "storyNumber": "US-031"
  },
  {
    "id": 1770521031265,
    "title": "Build Mobileclaw Cloud Wizard - AWS + Google Cloud setup",
    "description": "**User Story:**\nAs a Mobileclaw user, I want a guided Cloud Setup Wizard so that I can configure AWS or Google Cloud storage without needing technical expertise.\n\n**Acceptance Criteria:**\n- Step-by-step wizard with 5-7 steps:\n  1. Choose provider (AWS or Google Cloud)\n  2. Enter credentials\n  3. Configure storage options\n  4. Test connection\n  5. Review and confirm\n- AWS support: S3, DynamoDB, Lambda\n- Google Cloud support: Cloud Storage, Firestore\n- Features:\n  - Input validation at each step\n  - Clear error messages with solutions\n  - Help text and tooltips\n  - Test connection before saving\n  - Save configuration securely\n  - Edit configuration later\n- Wizard can be exited and resumed\n- Advanced users can skip wizard and enter config manually\n- Follows design spec",
    "col": "backlog",
    "priority": "critical",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770520969237,
    "order": 31,
    "storyNumber": "US-032"
  },
  {
    "id": 1770521031266,
    "title": "Integrate AdMob in Mobileclaw - banner/interstitial/rewarded",
    "description": "**User Story:**\nAs a product owner, I want AdMob integrated into the free version of Mobileclaw so that we can monetize the app while keeping it free for users.\n\n**Acceptance Criteria:**\n- Banner ads:\n  - Display at bottom of appropriate screens\n  - Size: 320x50 (standard banner)\n  - Never block core functionality\n  - Load asynchronously\n- Interstitial ads:\n  - Show after major actions (max 1 per 5 minutes)\n  - Never interrupt critical workflows\n  - Dismissible after 5 seconds\n- Rewarded ads:\n  - User chooses to watch\n  - Clear reward description before viewing\n  - Reward delivered immediately after completion\n- Ad-free zones: authentication, payment, settings\n- Failed ad loads don't show errors to user\n- GDPR/CCPA compliant (user consent)\n- Ad content appropriate for all ages\n- Performance: No UI lag or slowdown\n- Works on iOS and Android",
    "col": "backlog",
    "priority": "critical",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770520970237,
    "order": 32,
    "storyNumber": "US-033"
  },
  {
    "id": 1770521031267,
    "title": "Create Mobileclaw paid version - $4.99 one-time purchase",
    "description": "**User Story:**\nAs a Mobileclaw user, I want to purchase a premium version with a one-time payment so that I can support the app and enjoy premium features without ads or subscriptions.\n\n**Acceptance Criteria:**\n- One-time purchase: $4.99 (no recurring charges)\n- Purchase flow:\n  - Clear feature comparison (free vs paid)\n  - Secure in-app purchase (Apple/Google)\n  - Receipt provided\n  - Purchase confirmed immediately\n- Premium features:\n  - No ads anywhere\n  - Unlimited cloud storage\n  - Advanced vault features\n  - Priority support\n  - All future premium features included\n- 7-day free trial available\n- Purchase restored when user signs in on new device\n- Refund policy clearly stated\n- Works offline (checks license when online)\n- Upgrade flow from free to paid is smooth",
    "col": "backlog",
    "priority": "critical",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770520971237,
    "order": 33,
    "storyNumber": "US-034"
  },
  {
    "id": 1770521031268,
    "title": "Test Mobileclaw on Expo Go - iPhone + Android",
    "description": "**User Story:**\nAs a developer, I want to test Mobileclaw on Expo Go for both iPhone and Android so that I can verify cross-platform functionality before building production binaries.\n\n**Acceptance Criteria:**\n- Test on iPhone (iOS 15+):\n  - App launches successfully\n  - All features work as expected\n  - UI renders correctly\n  - Performance is acceptable\n  - No crashes or critical bugs\n- Test on Android (Android 10+):\n  - App launches successfully\n  - All features work as expected\n  - UI renders correctly (various screen sizes)\n  - Performance is acceptable\n  - No crashes or critical bugs\n- Platform-specific features tested:\n  - Biometric authentication\n  - Push notifications\n  - File system access\n  - Camera/gallery access\n- Test report documents:\n  - Devices tested\n  - Bugs found\n  - Platform differences noted\n  - Screenshots of issues",
    "col": "backlog",
    "priority": "low",
    "tag": "mobile",
    "tags": [
      "mobile",
      "testing"
    ],
    "agent": "",
    "created": 1770520972237,
    "order": 34,
    "storyNumber": "US-035"
  },
  {
    "id": 1770521031269,
    "title": "Test trip map timeline filtering - Visual Hierarchy (4 tests)",
    "description": "**User Story:**\nAs a Test Agent, I want to test the visual hierarchy of the trip map timeline filtering UI so that users can quickly understand and use the filtering controls.\n\n**Acceptance Criteria:**\n- Test 1: Filter button is visually prominent and discoverable\n- Test 2: Active filters are clearly indicated\n- Test 3: Filter panel has clear visual structure (categories grouped logically)\n- Test 4: Interactive elements (buttons, checkboxes) stand out from static content\n- All tests use automated visual regression testing where possible\n- Tests pass if visual hierarchy scores 8/10 or higher on design audit\n- Screenshots captured for manual review\n- Issues logged with severity levels",
    "col": "backlog",
    "priority": "high",
    "tag": "testing",
    "tags": [
      "testing",
      "design"
    ],
    "agent": "",
    "created": 1770520973237,
    "order": 35,
    "storyNumber": "US-036"
  },
  {
    "id": 1770521031270,
    "title": "Test trip map timeline filtering - Touch Targets (4 tests)",
    "description": "**User Story:**\nAs a Test Agent, I want to test touch targets in the timeline filtering UI so that users can easily tap controls without frustration.\n\n**Acceptance Criteria:**\n- Test 1: All touch targets are \u226544x44px (WCAG guideline)\n- Test 2: Touch targets have adequate spacing (\u22658px) from adjacent targets\n- Test 3: Touch feedback is immediate and clear (visual state change)\n- Test 4: Touch targets work correctly on various screen sizes (320px to 428px)\n- All tests automated using Playwright or similar\n- Tests measure actual rendered dimensions\n- Edge cases tested: Small screens, large text settings\n- Issues logged with exact dimensions and screenshots",
    "col": "backlog",
    "priority": "high",
    "tag": "testing",
    "tags": [
      "testing",
      "design"
    ],
    "agent": "",
    "created": 1770520974237,
    "order": 36,
    "storyNumber": "US-037"
  },
  {
    "id": 1770521031271,
    "title": "Test trip map timeline filtering - Information Architecture (4 tests)",
    "description": "**User Story:**\nAs a Test Agent, I want to test the information architecture of the filtering UI so that users can find and use filter options intuitively.\n\n**Acceptance Criteria:**\n- Test 1: Filter options are logically grouped (e.g., date filters together)\n- Test 2: Most common filters are easily accessible\n- Test 3: Filter labels are clear and unambiguous\n- Test 4: Filter hierarchy is appropriate (primary vs secondary options)\n- Tests include user flow analysis\n- Measure time to find and apply a filter (target: <10 seconds)\n- A/B testing if multiple layouts are proposed\n- Issues logged with recommendations for improvement",
    "col": "backlog",
    "priority": "critical",
    "tag": "testing",
    "tags": [
      "testing",
      "design"
    ],
    "agent": "",
    "created": 1770520975237,
    "order": 37,
    "storyNumber": "US-038"
  },
  {
    "id": 1770521031272,
    "title": "Test trip map timeline filtering - Feedback & States (4 tests)",
    "description": "**User Story:**\nAs a Test Agent, I want to test feedback and state management in the filtering UI so that users always understand the current filter state and can recover from errors.\n\n**Acceptance Criteria:**\n- Test 1: Applying a filter shows immediate visual feedback\n- Test 2: Active filters are clearly indicated in the UI\n- Test 3: Loading states are shown when filtering is processing\n- Test 4: Error states (no results, failed to load) are clear and actionable\n- All states tested: default, loading, success, error, empty\n- Timing measured (feedback should appear within 100ms)\n- Error messages tested for clarity and helpfulness\n- Issues logged with videos/GIFs showing interaction problems",
    "col": "backlog",
    "priority": "critical",
    "tag": "testing",
    "tags": [
      "testing",
      "design"
    ],
    "agent": "",
    "created": 1770520976237,
    "order": 38,
    "storyNumber": "US-039"
  },
  {
    "id": 1770521031273,
    "title": "Test trip map timeline filtering - Accessibility (4 tests)",
    "description": "**User Story:**\nAs a Test Agent, I want to test accessibility of the filtering UI so that all users, including those with disabilities, can use the filters effectively.\n\n**Acceptance Criteria:**\n- Test 1: Screen reader can navigate and announce all filter controls\n- Test 2: Color contrast meets WCAG AA standards (4.5:1 minimum)\n- Test 3: Keyboard navigation works (tab, arrow keys, enter)\n- Test 4: Filter UI works with zoom/large text enabled\n- Automated accessibility testing with axe or similar tool\n- Manual testing with screen reader (VoiceOver/TalkBack)\n- Test with various assistive technologies\n- Issues logged with WCAG reference and severity\n- Target: Zero critical accessibility issues",
    "col": "backlog",
    "priority": "critical",
    "tag": "testing",
    "tags": [
      "testing",
      "design"
    ],
    "agent": "",
    "created": 1770520977237,
    "order": 39,
    "storyNumber": "US-040"
  },
  {
    "id": 1770521031274,
    "title": "Test Mobileclaw Places feature - 20 UX test cases",
    "description": "**User Story:**\nAs a Test Agent, I want to run 20 comprehensive UX test cases on the Mobileclaw Places feature so that we can ensure it meets quality standards before release.\n\n**Acceptance Criteria:**\n- 20 test cases cover:\n  - Map interaction (pan, zoom, markers)\n  - Place search functionality\n  - Place details display\n  - Save to trip workflow\n  - Trip organization\n  - Navigation integration\n  - Offline mode\n  - Performance under various network conditions\n- Each test case includes:\n  - Given/When/Then structure\n  - Expected vs actual results\n  - Pass/fail status\n  - Screenshots/videos for failures\n- Target pass rate: \u226585% (17/20 tests)\n- Test on multiple devices (iPhone, Android)\n- Test report generated automatically\n- Critical bugs block release",
    "col": "backlog",
    "priority": "high",
    "tag": "testing",
    "tags": [
      "testing",
      "mobile"
    ],
    "agent": "",
    "created": 1770520978237,
    "order": 40,
    "storyNumber": "US-041"
  },
  {
    "id": 1770521031275,
    "title": "Test Mobileclaw Second Brain - 20 UX test cases",
    "description": "**User Story:**\nAs a Test Agent, I want to run 20 comprehensive UX test cases on the Mobileclaw Second Brain so that we can validate the ideas-to-tasks flow meets user needs.\n\n**Acceptance Criteria:**\n- 20 test cases cover:\n  - Quick capture (text, voice, image)\n  - Ideas inbox management\n  - Convert to task workflow\n  - Task board integration\n  - Search and filtering\n  - Categories and tags\n  - Offline functionality\n  - Performance with large datasets (1000+ ideas)\n- Each test case includes:\n  - Given/When/Then structure\n  - Expected vs actual results\n  - Pass/fail status\n  - Screenshots/videos for failures\n- Target pass rate: \u226585% (17/20 tests)\n- Test on multiple devices\n- Test report generated automatically\n- Focus on workflow speed (capture in <10 seconds)",
    "col": "backlog",
    "priority": "critical",
    "tag": "testing",
    "tags": [
      "testing",
      "mobile"
    ],
    "agent": "",
    "created": 1770520979237,
    "order": 41,
    "storyNumber": "US-042"
  },
  {
    "id": 1770521031276,
    "title": "Add Google Places UI Kit to trip map - rich place details",
    "description": "**User Story:**\nAs a trip map user, I want rich place details powered by Google Places UI Kit so that I can research restaurants, hotels, and attractions directly in the map without leaving the app.\n\n**Acceptance Criteria:**\n- Google Places UI Kit integrated\n- Place details include:\n  - Photos (carousel of high-quality images)\n  - Ratings and reviews\n  - Opening hours\n  - Contact information (phone, website)\n  - Price level\n  - Popular times\n  - Amenities\n- UI follows Google's design guidelines\n- Place details load within 2 seconds\n- User can:\n  - Save place to trip\n  - Get directions\n  - Call/visit website directly\n  - View on Street View\n- Works on mobile and desktop\n- Graceful fallback if API fails",
    "col": "backlog",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "coding",
      "web"
    ],
    "agent": "",
    "created": 1770520980237,
    "order": 42,
    "storyNumber": "US-043"
  },
  {
    "id": 1770521031277,
    "title": "Add Street View integration to trip map",
    "description": "**User Story:**\nAs a trip map user, I want to view Street View for locations so that I can virtually explore destinations and get a sense of the area before visiting.\n\n**Acceptance Criteria:**\n- Street View available for any map marker or address\n- User can open Street View by:\n  - Clicking \"Street View\" button in info window\n  - Clicking Street View icon on marker\n- Street View features:\n  - 360-degree panorama\n  - Navigation controls (forward, back, turn)\n  - Zoom controls\n  - Date of imagery shown\n  - Link to full Google Street View\n- Street View opens in:\n  - Modal on desktop\n  - Full screen on mobile\n- Exit Street View returns to map at same position\n- Fallback message if Street View unavailable for location\n- Performance: Street View loads within 3 seconds",
    "col": "backlog",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "coding",
      "web"
    ],
    "agent": "",
    "created": 1770520981237,
    "order": 43,
    "storyNumber": "US-044"
  },
  {
    "id": 1770521031278,
    "title": "Add \"Find place to eat\" button - Google Places API search",
    "description": "**User Story:**\nAs a trip map user, I want a \"Find place to eat\" button so that I can quickly discover nearby restaurants when I'm hungry without leaving the map.\n\n**Acceptance Criteria:**\n- \"Find place to eat\" button prominently displayed\n- Clicking button:\n  - Searches for restaurants near current map center or user's location\n  - Returns 10-20 results\n  - Shows results as markers on map\n  - Displays results in list sidebar\n- Results include:\n  - Restaurant name and photo\n  - Rating and review count\n  - Price level\n  - Distance from current location\n  - Opening status (open now, closes at X)\n- User can filter results by:\n  - Cuisine type\n  - Price level\n  - Rating (4+ stars)\n  - Distance\n- Clicking result shows full place details\n- Search updates as user pans map\n- Works on mobile and desktop",
    "col": "backlog",
    "priority": "medium",
    "tag": "coding",
    "tags": [
      "coding",
      "web"
    ],
    "agent": "",
    "created": 1770520982238,
    "order": 44,
    "storyNumber": "US-045"
  },
  {
    "id": 1770521031279,
    "title": "Add \"Upcoming activities\" section - next 3 with countdown",
    "description": "**User Story:**\nAs a trip map user, I want to see my upcoming activities with countdown timers so that I can stay on schedule and know what's happening next.\n\n**Acceptance Criteria:**\n- \"Upcoming activities\" section shows next 3 scheduled activities\n- Each activity displays:\n  - Activity name\n  - Location/address\n  - Start time\n  - Countdown timer (\"in 2 hours 15 minutes\")\n  - Category icon\n- Section is:\n  - Prominently placed (top of sidebar or as card)\n  - Auto-updates countdown every minute\n  - Collapsed on mobile, expandable\n- Clicking activity:\n  - Centers map on location\n  - Opens activity details\n- When activity time passes, it moves out of \"upcoming\"\n- If no upcoming activities, section shows \"No upcoming activities\"\n- Countdown turns red when <30 minutes away",
    "col": "backlog",
    "priority": "medium",
    "tag": "coding",
    "tags": [
      "coding",
      "web"
    ],
    "agent": "",
    "created": 1770520983238,
    "order": 45,
    "storyNumber": "US-046"
  },
  {
    "id": 1770521031280,
    "title": "Add list view toggle for trip map locations",
    "description": "**User Story:**\nAs a trip map user, I want to toggle between map view and list view so that I can see all my locations in an organized list format when preferred.\n\n**Acceptance Criteria:**\n- Toggle button switches between map view and list view\n- List view displays:\n  - All trip locations grouped by day or category\n  - Location name, address, time (if scheduled)\n  - Thumbnail image\n  - Category icon\n- List features:\n  - Sortable (by time, name, category)\n  - Filterable (same filters as map)\n  - Search box for quick finding\n- Clicking location in list:\n  - Switches to map view\n  - Centers map on location\n  - Opens location details\n- List view is responsive (works on mobile)\n- View preference is saved (user returns to preferred view)\n- Both views stay in sync (changes in one reflect in other)",
    "col": "backlog",
    "priority": "low",
    "tag": "coding",
    "tags": [
      "coding",
      "web"
    ],
    "agent": "",
    "created": 1770520984238,
    "order": 46,
    "storyNumber": "US-047"
  },
  {
    "id": 1770521031281,
    "title": "Add hamburger menu to trip map",
    "description": "**User Story:**\nAs a trip map user on mobile, I want a hamburger menu so that I can access navigation and settings without cluttering the map interface.\n\n**Acceptance Criteria:**\n- Hamburger menu icon (\u2630) in top-left or top-right corner\n- Tapping icon opens slide-out menu\n- Menu includes:\n  - Trip selector (switch between trips)\n  - Settings\n  - Export/share trip\n  - Help/FAQ\n  - About\n- Menu animations are smooth (slide-in from side)\n- Tapping outside menu closes it\n- Menu is accessible (can navigate with keyboard)\n- Menu design follows Material Design or iOS HIG\n- Works on mobile (320px to 428px width)\n- Desktop uses full navigation bar instead of hamburger",
    "col": "backlog",
    "priority": "low",
    "tag": "coding",
    "tags": [
      "coding",
      "web"
    ],
    "agent": "",
    "created": 1770520985238,
    "order": 47,
    "storyNumber": "US-048"
  },
  {
    "id": 1770521031282,
    "title": "Set up TikTok\u2192X content pipeline - OpenAI API key",
    "description": "**User Story:**\nAs a content creator, I want an automated TikTok\u2192X content pipeline so that I can repurpose my TikTok content for X (Twitter) with minimal effort.\n\n**Acceptance Criteria:**\n- Pipeline components:\n  - TikTok video downloader\n  - OpenAI API integration for caption generation\n  - Video processing (resize for X format)\n  - X API integration for posting\n- Setup includes:\n  - OpenAI API key configured securely\n  - TikTok account connected\n  - X account connected\n  - Posting schedule configured\n- Pipeline workflow:\n  - Monitors specified TikTok account(s)\n  - Downloads new videos\n  - Generates X-optimized caption using OpenAI\n  - Posts to X with video and caption\n- Settings:\n  - Auto-post or manual approval\n  - Posting frequency limits\n  - Content filters (skip certain videos)\n- Pipeline runs automatically via cron\n- Logs all actions for review",
    "col": "backlog",
    "priority": "medium",
    "tag": "research",
    "tags": [
      "content",
      "automation"
    ],
    "agent": "",
    "created": 1770520986238,
    "order": 48,
    "storyNumber": "US-049"
  },
  {
    "id": 1770521031283,
    "title": "Schedule TikTok pipeline cron jobs - 8 AM + 8 PM",
    "description": "**User Story:**\nAs a content creator, I want the TikTok\u2192X pipeline to run automatically at 8 AM and 8 PM so that my content is posted during peak engagement times without manual intervention.\n\n**Acceptance Criteria:**\n- Cron jobs scheduled for:\n  - 8:00 AM MST daily\n  - 8:00 PM MST daily\n- Each cron job:\n  - Runs the TikTok\u2192X pipeline\n  - Checks for new TikTok content\n  - Processes and posts to X\n  - Logs results\n  - Sends notification on completion or errors\n- Cron configuration:\n  - Uses system cron or OpenClaw scheduler\n  - Survives system restarts\n  - Handles timezone correctly\n- Error handling:\n  - Retries on transient failures (3 attempts)\n  - Alerts user on persistent failures\n  - Logs all errors for debugging\n- Can be temporarily disabled without deleting schedule",
    "col": "backlog",
    "priority": "low",
    "tag": "research",
    "tags": [
      "content",
      "automation"
    ],
    "agent": "",
    "created": 1770520987238,
    "order": 49,
    "storyNumber": "US-050"
  },
  {
    "id": 1770521031284,
    "title": "Rotate GitHub token - create new, update git remote",
    "description": "**User Story:**\nAs a developer, I want to rotate the GitHub token periodically so that we maintain security best practices and minimize the impact of potential token leaks.\n\n**Acceptance Criteria:**\n- Process for rotation:\n  1. Generate new GitHub personal access token\n  2. Test new token with test repository\n  3. Update token in /root/.openclaw/secrets/keys.env\n  4. Update git remote URL with new token\n  5. Test git operations (pull, push)\n  6. Revoke old token in GitHub\n  7. Document rotation date\n- New token has same scopes as old token (repo scope minimum)\n- All repositories update to use new token\n- CI/CD pipelines update automatically or are documented for manual update\n- Token expiration set for 6 months from creation\n- Rotation documented in changelog\n- No disruption to active development",
    "col": "backlog",
    "priority": "low",
    "tag": "infra",
    "tags": [
      "infrastructure",
      "security"
    ],
    "agent": "",
    "created": 1770520988238,
    "order": 50,
    "storyNumber": "US-051"
  },
  {
    "id": 1770521031285,
    "title": "Set up Metricool API - social media scheduling",
    "description": "**User Story:**\nAs a content manager, I want to integrate Metricool API so that I can schedule and analyze social media posts across multiple platforms from one tool.\n\n**Acceptance Criteria:**\n- Metricool API integration includes:\n  - API key configured securely\n  - OAuth authentication flow (if required)\n  - Connected social accounts (X, Instagram, LinkedIn, etc.)\n- Features implemented:\n  - Schedule posts to multiple platforms\n  - View scheduled posts\n  - Cancel/edit scheduled posts\n  - View analytics (reach, engagement)\n  - Generate reports\n- API wrapper handles:\n  - Rate limiting\n  - Error handling and retries\n  - Pagination for large datasets\n- Integration tested with sample posts\n- Documentation created for team use\n- Secrets stored securely (not in code)",
    "col": "backlog",
    "priority": "low",
    "tag": "infra",
    "tags": [
      "infrastructure"
    ],
    "agent": "",
    "created": 1770520989238,
    "order": 51,
    "storyNumber": "US-052"
  },
  {
    "id": 1770521031286,
    "title": "Complete Scholarship Hunt Pro v2.0 - 6-step onboarding",
    "description": "**User Story:**\nAs a student user, I want a smooth 6-step onboarding process so that I can quickly set up my profile and start finding relevant scholarships.\n\n**Acceptance Criteria:**\n- 6-step onboarding wizard:\n  1. Welcome screen with value proposition\n  2. Create account or sign in\n  3. Academic profile (GPA, major, year)\n  4. Demographics (optional, for scholarship matching)\n  5. Interests and goals\n  6. Scholarship preferences\n- Each step:\n  - Has clear instructions and examples\n  - Shows progress indicator (1 of 6, 2 of 6...)\n  - Validates input before proceeding\n  - Allows going back to edit\n  - Can skip optional fields\n- After completion:\n  - User sees personalized scholarship recommendations\n  - Profile is saved\n  - User can edit profile anytime in settings\n- Onboarding takes <5 minutes to complete\n- Mobile-responsive design\n- Follows design spec",
    "col": "next-up",
    "priority": "medium",
    "tag": "coding",
    "tags": [
      "coding",
      "web"
    ],
    "agent": "",
    "created": 1770520990238,
    "order": 0,
    "storyNumber": "US-053"
  },
  {
    "id": 1770521031287,
    "title": "Build scholarship automation pipeline - weekly finder",
    "description": "**User Story:**\nAs a Scholarship Hunt Pro user, I want an automated pipeline that finds new scholarships weekly so that I don't miss opportunities.\n\n**Acceptance Criteria:**\n- Pipeline runs weekly (Sunday nights)\n- Searches for scholarships from:\n  - Scholarship databases (Fastweb, Scholarships.com, etc.)\n  - University websites\n  - Organization websites\n  - Government sites\n- Filtering based on:\n  - User's profile (GPA, major, demographics)\n  - Eligibility criteria\n  - Deadline (only future deadlines)\n  - Award amount\n- New scholarships:\n  - Added to user's dashboard\n  - Marked as \"New\"\n  - Sorted by relevance score\n  - Notification sent to user\n- Pipeline includes:\n  - Duplicate detection (don't re-add same scholarship)\n  - Data validation (required fields present)\n  - Error handling and logging\n- Performance: Processes 100+ sources within 30 minutes",
    "col": "backlog",
    "priority": "high",
    "tag": "automation",
    "tags": [
      "automation",
      "research"
    ],
    "agent": "",
    "created": 1770520991238,
    "order": 53,
    "storyNumber": "US-054"
  },
  {
    "id": 1770521031288,
    "title": "Send NEW-SCHOLARSHIPS-LENA-2026.md to Lena (awaiting approval)",
    "description": "**User Story:**\nAs Brian, I want to send the NEW-SCHOLARSHIPS-LENA-2026.md file to Lena so that she can review and apply for new scholarship opportunities found for her.\n\n**Acceptance Criteria:**\n- File NEW-SCHOLARSHIPS-LENA-2026.md is prepared with:\n  - List of new scholarships (name, deadline, amount, link)\n  - Scholarships matched to Lena's profile\n  - Sorted by deadline (soonest first)\n  - Includes eligibility summary\n  - Application tips for each scholarship\n- Brian reviews and approves content\n- File sent to Lena via preferred method (email, messaging app)\n- Lena confirms receipt\n- Follow-up scheduled to check if Lena has questions\n- Original file saved in project history",
    "col": "backlog",
    "priority": "low",
    "tag": "research",
    "tags": [
      "research"
    ],
    "agent": "",
    "created": 1770520992238,
    "order": 54,
    "storyNumber": "US-055"
  },
  {
    "id": 1770521031289,
    "title": "Promote 3 conversation ideas to task board",
    "description": "**User Story:**\nAs a PM, I want to promote 3 conversation ideas from the ideas backlog to the task board so that they become actionable tasks with clear ownership.\n\n**Acceptance Criteria:**\n- Review ideas backlog and identify 3 conversation-related ideas\n- For each idea:\n  - Write proper user story description\n  - Define acceptance criteria\n  - Assign priority\n  - Assign to appropriate agent/person\n  - Add to task board in appropriate column\n- Ideas promoted are:\n  - Valuable (INVEST criteria)\n  - Actionable (can be started within 2 weeks)\n  - Aligned with current goals\n- Original ideas marked as \"promoted\" in ideas backlog\n- Team notified of new tasks\n- Tasks appear on kanban board",
    "col": "backlog",
    "priority": "medium",
    "tag": "planning",
    "tags": [
      "planning"
    ],
    "agent": "",
    "created": 1770520993238,
    "order": 55,
    "storyNumber": "US-056"
  },
  {
    "id": 1770521031290,
    "title": "Promote 4 dogfooding ideas to task board",
    "description": "**User Story:**\nAs a PM, I want to promote 4 dogfooding ideas from the ideas backlog to the task board so that we prioritize using our own products and finding improvement opportunities.\n\n**Acceptance Criteria:**\n- Review ideas backlog and identify 4 dogfooding-related ideas\n- For each idea:\n  - Write proper user story description\n  - Define acceptance criteria\n  - Assign priority\n  - Assign to appropriate agent/person\n  - Add to task board in appropriate column\n- Ideas promoted are:\n  - Focused on using our own products\n  - Likely to reveal usability issues\n  - Actionable within current sprint\n- Original ideas marked as \"promoted\" in ideas backlog\n- Team notified of new dogfooding tasks\n- Tasks appear on kanban board",
    "col": "backlog",
    "priority": "medium",
    "tag": "planning",
    "tags": [
      "planning"
    ],
    "agent": "",
    "created": 1770520994238,
    "order": 56,
    "storyNumber": "US-057"
  },
  {
    "id": 1770521031291,
    "title": "Weekly ideas review - Monday 9 AM MST",
    "description": "**User Story:**\nAs a PM, I want to conduct a weekly ideas review every Monday at 9 AM MST so that we regularly evaluate new ideas and promote the best ones to actionable tasks.\n\n**Acceptance Criteria:**\n- Recurring meeting scheduled: Mondays 9:00 AM MST\n- Agenda includes:\n  - Review new ideas from past week\n  - Evaluate each idea against INVEST criteria\n  - Prioritize top ideas\n  - Promote 2-5 ideas to task board\n  - Archive or defer ideas not ready\n- Meeting outcomes:\n  - Minutes documented\n  - New tasks created on kanban board\n  - Ideas backlog updated\n  - Team notified of decisions\n- Meeting takes 30-60 minutes\n- Calendar invite sent to stakeholders\n- Can be async if needed (review document + decisions)",
    "col": "backlog",
    "priority": "low",
    "tag": "planning",
    "tags": [
      "planning"
    ],
    "agent": "",
    "created": 1770520995238,
    "order": 57,
    "storyNumber": "US-058"
  },
  {
    "id": 1770521031292,
    "title": "Build OpenClaw Chat UI in Mobileclaw - message bubbles, input, history",
    "description": "**User Story:**\nAs a Mobileclaw user, I want a chat interface to communicate with OpenClaw so that I can get AI assistance directly from my mobile device.\n\n**Acceptance Criteria:**\n- Chat UI includes:\n  - Message bubbles (user vs AI, distinct styling)\n  - Text input field with send button\n  - Message history (scrollable, persisted)\n  - Timestamps\n  - Message status indicators (sending, sent, error)\n  - Typing indicator when AI is responding\n- Features:\n  - Send text messages\n  - View message history\n  - Delete messages or conversations\n  - Search message history\n  - Copy messages\n  - Share conversations\n- UI follows platform conventions (iOS/Android)\n- Keyboard behavior is smooth (auto-focus, dismiss)\n- Works offline (shows queued messages, sends when online)\n- Performance: Smooth scrolling with 1000+ messages\n- Follows design spec with 20 UX tests passing \u226585%",
    "col": "backlog",
    "priority": "critical",
    "tag": "mobile",
    "tags": [
      "mobile",
      "critical"
    ],
    "agent": "",
    "created": 1770520996238,
    "order": 58,
    "storyNumber": "US-059"
  },
  {
    "id": 1770521031293,
    "title": "Implement WebSocket client - connect to OpenClaw Gateway",
    "description": "**User Story:**\nAs a Mobileclaw developer, I want a robust WebSocket client so that Mobileclaw can communicate with OpenClaw Gateway in real-time.\n\n**Acceptance Criteria:**\n- WebSocket client:\n  - Connects to OpenClaw Gateway\n  - Handles authentication (tokens, sessions)\n  - Maintains persistent connection\n  - Reconnects automatically on disconnect\n  - Handles connection errors gracefully\n- Features:\n  - Send messages to gateway\n  - Receive messages from gateway\n  - Message queuing (offline support)\n  - Binary data support (for attachments)\n  - Ping/pong for connection health\n- Connection states handled:\n  - Connecting\n  - Connected\n  - Disconnected\n  - Reconnecting\n  - Error\n- Performance:\n  - Message latency <500ms\n  - Minimal battery drain\n  - Efficient data usage\n- Thorough error handling and logging",
    "col": "backlog",
    "priority": "critical",
    "tag": "mobile",
    "tags": [
      "mobile",
      "infrastructure"
    ],
    "agent": "",
    "created": 1770520997239,
    "order": 59,
    "storyNumber": "US-060"
  },
  {
    "id": 1770521031294,
    "title": "Build attachment system - images, videos, documents, 50MB limit",
    "description": "**User Story:**\nAs a Mobileclaw user, I want to send images, videos, and documents to OpenClaw so that I can get help with visual or file-based content.\n\n**Acceptance Criteria:**\n- Supported file types:\n  - Images: JPG, PNG, GIF, WebP\n  - Videos: MP4, MOV\n  - Documents: PDF, TXT, MD, DOC, DOCX\n- File size limit: 50MB per file\n- Features:\n  - Pick from gallery\n  - Take photo with camera\n  - Record video\n  - Pick from file system\n  - Multiple file selection\n  - Thumbnail preview before sending\n  - Upload progress indicator\n  - Cancel upload\n- Uploaded files:\n  - Compressed if needed (images/videos)\n  - Encrypted during transfer\n  - Stored securely on device\n  - Linked to message in chat\n- Error handling:\n  - File too large (show size limit)\n  - Unsupported format (show supported types)\n  - Upload failed (retry option)\n- Works offline (queues uploads)",
    "col": "backlog",
    "priority": "critical",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770520998239,
    "order": 60,
    "storyNumber": "US-061"
  },
  {
    "id": 1770521031295,
    "title": "Design OpenClaw Chat interface - 20 UX test cases",
    "description": "**User Story:**\nAs a Designer Agent, I want to design the OpenClaw Chat interface for Mobileclaw so that users have a delightful, intuitive chat experience.\n\n**Acceptance Criteria:**\n- Design includes:\n  - Message bubbles (user, AI, system)\n  - Text input field\n  - Send button and attachment button\n  - Message history\n  - Typing indicators\n  - Message timestamps\n  - Message status indicators\n  - Empty states\n  - Error states\n- 20 UX test cases cover:\n  - Visual hierarchy\n  - Touch targets\n  - Information architecture\n  - Feedback & states\n  - Accessibility\n- Designs for:\n  - Light and dark mode\n  - Various screen sizes (320px to 428px)\n  - Platform-specific patterns (iOS vs Android)\n- Interactive prototype or high-fidelity mockups\n- Design system components used/created",
    "col": "backlog",
    "priority": "high",
    "tag": "design",
    "tags": [
      "design",
      "mobile"
    ],
    "agent": "",
    "created": 1770520999239,
    "order": 61,
    "storyNumber": "US-062"
  },
  {
    "id": 1770521031296,
    "title": "Implement local message storage - SQLite for history",
    "description": "**User Story:**\nAs a Mobileclaw user, I want my chat history stored locally so that I can access past conversations even when offline.\n\n**Acceptance Criteria:**\n- SQLite database for message storage\n- Schema includes:\n  - Messages table (id, content, sender, timestamp, status)\n  - Conversations table (id, title, created_at, updated_at)\n  - Attachments table (id, message_id, file_path, type, size)\n- Features:\n  - Save messages as they're sent/received\n  - Query messages by conversation\n  - Search messages (full-text search)\n  - Delete messages/conversations\n  - Export conversations\n- Performance:\n  - Fast queries (<100ms)\n  - Efficient storage (compress old messages)\n  - Database size monitoring\n- Data migration:\n  - Schema versioning\n  - Migration scripts for updates\n- Backup/restore capability\n- Works offline",
    "col": "backlog",
    "priority": "high",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770521000239,
    "order": 62,
    "storyNumber": "US-063"
  },
  {
    "id": 1770521031297,
    "title": "Add push notifications for new messages",
    "description": "**User Story:**\nAs a Mobileclaw user, I want push notifications for new messages so that I can respond quickly even when the app is closed.\n\n**Acceptance Criteria:**\n- Push notifications trigger when:\n  - New message from AI\n  - Message delivery status changes\n  - Important system alerts\n- Notification includes:\n  - Message preview (first 50 characters)\n  - Sender (AI or system)\n  - Timestamp\n  - App icon\n- Tapping notification:\n  - Opens app to relevant conversation\n  - Marks message as read\n- Notification settings:\n  - Enable/disable push notifications\n  - Quiet hours (no notifications)\n  - Notification sound selection\n- Platform-specific implementation:\n  - iOS: APNs\n  - Android: FCM\n- Works reliably (99% delivery rate)\n- Respects system notification preferences",
    "col": "backlog",
    "priority": "high",
    "tag": "mobile",
    "tags": [
      "mobile",
      "infrastructure"
    ],
    "agent": "",
    "created": 1770521001239,
    "order": 63,
    "storyNumber": "US-064"
  },
  {
    "id": 1770521031298,
    "title": "Add typing indicators and read receipts",
    "description": "**User Story:**\nAs a Mobileclaw user, I want to see when the AI is typing and when my messages are read so that I understand the conversation state.\n\n**Acceptance Criteria:**\n- Typing indicator:\n  - Shows when AI is composing response\n  - Animated dots or similar visual\n  - Appears in conversation footer\n  - Disappears when AI sends message\n- Read receipts:\n  - Checkmark icon when message is sent\n  - Double checkmark when message is delivered\n  - Blue checkmarks when message is read\n  - Timestamp of read status on long-press\n- Real-time updates via WebSocket\n- Respects user privacy settings (can disable read receipts)\n- Performance: Indicator appears within 100ms\n- Follows platform conventions (iOS/Android)",
    "col": "backlog",
    "priority": "medium",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770521002239,
    "order": 64,
    "storyNumber": "US-065"
  },
  {
    "id": 1770521031299,
    "title": "Implement file upload progress indicators",
    "description": "**User Story:**\nAs a Mobileclaw user, I want to see upload progress when sending attachments so that I know how long to wait and can cancel if needed.\n\n**Acceptance Criteria:**\n- Upload progress shown for each attachment\n- Progress indicator includes:\n  - Percentage complete (0-100%)\n  - Progress bar or circular indicator\n  - File size and uploaded amount (MB)\n  - Estimated time remaining\n  - Cancel button\n- States:\n  - Preparing upload (compressing, encrypting)\n  - Uploading (with progress)\n  - Uploaded (success checkmark)\n  - Failed (error icon, retry button)\n- Multiple uploads shown simultaneously\n- Progress updates in real-time (every 100ms minimum)\n- Uploads continue in background\n- Notification when upload completes (if app in background)\n- Failed uploads can be retried",
    "col": "backlog",
    "priority": "medium",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770521003239,
    "order": 65,
    "storyNumber": "US-066"
  },
  {
    "id": 1770521031300,
    "title": "Add message search and export features",
    "description": "**User Story:**\nAs a Mobileclaw user, I want to search my message history and export conversations so that I can find information and keep records.\n\n**Acceptance Criteria:**\n- Search features:\n  - Search box at top of chat screen\n  - Full-text search across all messages\n  - Results highlighted in conversation\n  - Jump to search result in context\n  - Filter by date range, sender, conversation\n  - Recent searches saved\n- Export features:\n  - Export conversation as TXT or PDF\n  - Include messages and attachments\n  - Preserve formatting and timestamps\n  - Export to Files app or share via other apps\n  - Option to include or exclude attachments\n  - Progress indicator for large exports\n- Performance:\n  - Search results appear in <1 second\n  - Export completes in reasonable time (<30s for 1000 messages)\n- Privacy: Exported files are encrypted",
    "col": "backlog",
    "priority": "medium",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770521004239,
    "order": 66,
    "storyNumber": "US-067"
  },
  {
    "id": 1770521031301,
    "title": "Add message reactions and formatting",
    "description": "**User Story:**\nAs a Mobileclaw user, I want to react to messages with emoji and use text formatting so that I can express myself better in conversations.\n\n**Acceptance Criteria:**\n- Message reactions:\n  - Long-press message to show reaction options\n  - Common emoji reactions (\ud83d\udc4d\u2764\ufe0f\ud83d\ude02\ud83d\ude2e\ud83d\ude22\ud83d\ude4f)\n  - Custom emoji picker\n  - Multiple users can react to same message\n  - Reaction count displayed\n  - Tap reaction to see who reacted\n- Text formatting:\n  - Bold: **text** or __text__\n  - Italic: *text* or _text_\n  - Strikethrough: ~~text~~\n  - Code: `code`\n  - Code block: ```code```\n  - Links auto-detected and clickable\n- Formatting toolbar (optional, collapsible)\n- Preview formatting before sending\n- Markdown syntax supported\n- Works in both light and dark mode",
    "col": "backlog",
    "priority": "low",
    "tag": "mobile",
    "tags": [
      "mobile",
      "coding"
    ],
    "agent": "",
    "created": 1770521005239,
    "order": 67,
    "storyNumber": "US-068"
  },
  {
    "id": 1770521031302,
    "title": "Test trip map v3 with 20 Playwright tests - find bugs causing loading failure",
    "description": "**User Story:**\nAs a Test Agent, I want to run 20 Playwright tests on trip map v3 so that I can identify and document bugs causing the loading failure.\n\n**Acceptance Criteria:**\n- 20 Playwright test cases covering:\n  - Page load and initialization\n  - Google Maps API loading\n  - Timeline data loading\n  - User authentication/authorization\n  - Filtering functionality\n  - Marker rendering\n  - Info window interactions\n  - Mobile responsiveness\n  - Error handling\n- Each test:\n  - Has clear Given/When/Then structure\n  - Captures screenshots on failure\n  - Logs console errors\n  - Records network requests\n  - Measures load time\n- Tests identify:\n  - Specific cause of \"Loading timeline...\" bug\n  - Google Maps black screen issue\n  - Any other critical bugs\n- Bug report includes:\n  - Steps to reproduce\n  - Expected vs actual behavior\n  - Screenshots/videos\n  - Console logs\n  - Priority level",
    "col": "backlog",
    "priority": "critical",
    "tag": "testing",
    "tags": [
      "testing",
      "critical"
    ],
    "agent": "",
    "created": 1770521006239,
    "order": 68,
    "storyNumber": "US-069"
  },
  {
    "id": 1770521031303,
    "title": "Create Testing Agent - write 20 test cases for every feature",
    "description": "**User Story:**\nAs a PM, I want to create a Testing Agent that automatically writes 20 test cases for every feature so that we maintain consistent test coverage across all projects.\n\n**Acceptance Criteria:**\n- Testing Agent capabilities:\n  - Reads feature specifications\n  - Generates 20 UX test cases per feature\n  - Test cases cover: visual hierarchy, touch targets, information architecture, feedback & states, accessibility\n  - Test cases follow Given/When/Then format\n  - Test cases are saved as Playwright scripts\n- Test case quality:\n  - Each test is independent and testable\n  - Tests cover happy path and edge cases\n  - Tests measure objective criteria\n  - Tests include expected outcomes\n- Agent workflow:\n  - Reads FEATURE-SPEC.md\n  - Generates TEST-CASES.md\n  - Generates Playwright test files\n  - Runs tests and generates report\n- Agent is documented and can be invoked by team\n- Agent outputs are version-controlled",
    "col": "backlog",
    "priority": "critical",
    "tag": "testing",
    "tags": [
      "testing",
      "agent"
    ],
    "agent": "",
    "created": 1770521007239,
    "order": 69,
    "storyNumber": "US-070"
  },
  {
    "id": 1770521031304,
    "title": "Fix trip map timeline loading bug (stuck on \"Loading timeline...\")",
    "description": "**User Story:**\nAs a trip map developer, I want to fix the timeline loading bug so that users can view their itinerary without getting stuck on a loading screen.\n\n**Acceptance Criteria:**\n- Given user opens trip map\n- When timeline data is loaded\n- Then:\n  - Timeline renders within 3 seconds\n  - All activities/locations are displayed\n  - No \"Loading timeline...\" message persists\n  - User can interact with timeline\n- Bug investigation includes:\n  - Console error logs analyzed\n  - Network requests inspected\n  - Timeline data structure validated\n  - Async/await logic reviewed\n- Fix includes:\n  - Root cause identified and documented\n  - Code changes tested locally\n  - Playwright tests added to prevent regression\n  - Error handling improved\n- After fix:\n  - Timeline loads reliably (99% success rate)\n  - Clear error message if timeline fails to load\n  - Retry mechanism available to user",
    "col": "backlog",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "coding",
      "bug"
    ],
    "agent": "",
    "created": 1770521008239,
    "order": 70,
    "storyNumber": "US-071"
  },
  {
    "id": 1770521031305,
    "title": "Fix trip map Google Maps not loading (black screen)",
    "description": "**User Story:**\nAs a trip map developer, I want to fix the Google Maps loading issue so that users can see the map and interact with their trip locations.\n\n**Acceptance Criteria:**\n- Given user opens trip map\n- When Google Maps initializes\n- Then:\n  - Map displays correctly (no black screen)\n  - Map centers on trip locations\n  - Markers render correctly\n  - User can pan, zoom, and interact with map\n- Bug investigation includes:\n  - Google Maps API key validated\n  - Network requests to Maps API inspected\n  - Console errors reviewed\n  - Browser compatibility tested\n- Fix includes:\n  - Root cause identified and documented\n  - Code changes tested locally\n  - Error handling for Maps API failures\n  - Fallback message if Maps unavailable\n- After fix:\n  - Map loads reliably (99% success rate)\n  - Clear error message if Maps fails to load\n  - User can retry or report issue",
    "col": "backlog",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "coding",
      "bug"
    ],
    "agent": "",
    "created": 1770521009239,
    "order": 71,
    "storyNumber": "US-072"
  },
  {
    "id": 1770521031306,
    "title": "Test task board with 20 Playwright cases - track bugs",
    "description": "**User Story:**\nAs a Test Agent, I want to run 20 Playwright test cases on the task board so that I can identify bugs and ensure quality before deployment.\n\n**Acceptance Criteria:**\n- 20 Playwright test cases covering:\n  - Board loading and initialization\n  - Column rendering (backlog, next-up, progress, done)\n  - Card creation and editing\n  - Drag-and-drop functionality\n  - Filtering and search\n  - Tags and priorities\n  - Mobile responsiveness\n  - Persistence (data saves correctly)\n- Each test:\n  - Has clear Given/When/Then structure\n  - Captures screenshots on failure\n  - Logs console errors\n  - Measures interaction time\n- Test report includes:\n  - Pass rate (%)\n  - List of bugs found (with priority)\n  - Performance metrics\n  - Recommendations for fixes\n- Tests run in CI/CD pipeline\n- Tests are maintainable and documented",
    "col": "backlog",
    "priority": "high",
    "tag": "testing",
    "tags": [
      "testing"
    ],
    "agent": "",
    "created": 1770521010239,
    "order": 72,
    "storyNumber": "US-073"
  },
  {
    "id": 1770521031307,
    "title": "Test Mobileclaw Second Brain UI - 20 test cases",
    "description": "**User Story:**\nAs a Test Agent, I want to run 20 test cases on the Mobileclaw Second Brain UI so that we can validate the user experience before release.\n\n**Acceptance Criteria:**\n- 20 test cases covering:\n  - Quick capture (text, voice, image)\n  - Ideas inbox view\n  - Idea editing\n  - Convert to task workflow\n  - Task board integration\n  - Search and filtering\n  - Tags and categories\n  - Performance with large datasets\n- Each test case:\n  - Follows Given/When/Then format\n  - Tests on iOS and Android\n  - Captures screenshots/videos for failures\n  - Measures time to complete action\n- Target pass rate: \u226585% (17/20 tests)\n- Test report generated with:\n  - Pass/fail for each test\n  - Bug details (severity, steps to reproduce)\n  - Performance metrics\n- Critical bugs block release",
    "col": "backlog",
    "priority": "high",
    "tag": "testing",
    "tags": [
      "testing",
      "mobile"
    ],
    "agent": "",
    "created": 1770521011239,
    "order": 73,
    "storyNumber": "US-074"
  },
  {
    "id": 1770521031308,
    "title": "Test Mobileclaw OpenClaw Chat - 20 test cases",
    "description": "**User Story:**\nAs a Test Agent, I want to run 20 test cases on the Mobileclaw OpenClaw Chat so that we can ensure a reliable chat experience before launch.\n\n**Acceptance Criteria:**\n- 20 test cases covering:\n  - Message sending/receiving\n  - Attachment uploads (images, videos, documents)\n  - Message history\n  - Search functionality\n  - Typing indicators\n  - Read receipts\n  - Push notifications\n  - Offline mode\n- Each test case:\n  - Follows Given/When/Then format\n  - Tests on iOS and Android\n  - Tests various network conditions (WiFi, cellular, offline)\n  - Captures screenshots/videos for failures\n- Target pass rate: \u226585% (17/20 tests)\n- Test report generated with:\n  - Pass/fail for each test\n  - Bug details\n  - Performance metrics (message latency, upload speed)\n- Critical bugs (crashes, data loss) block release",
    "col": "backlog",
    "priority": "critical",
    "tag": "testing",
    "tags": [
      "testing",
      "mobile"
    ],
    "agent": "",
    "created": 1770521012239,
    "order": 74,
    "storyNumber": "US-075"
  },
  {
    "id": 1770521031309,
    "title": "Test Mobileclaw Places feature - 20 test cases",
    "description": "**User Story:**\nAs a Test Agent, I want to run 20 test cases on the Mobileclaw Places feature so that we can validate the Google Maps integration and trip planning functionality.\n\n**Acceptance Criteria:**\n- 20 test cases covering:\n  - Map loading and rendering\n  - Place search\n  - Place details display\n  - Save to trip\n  - Trip organization\n  - Navigation integration\n  - Street View\n  - Offline mode\n- Each test case:\n  - Follows Given/When/Then format\n  - Tests on iOS and Android\n  - Tests various screen sizes\n  - Captures screenshots/videos for failures\n  - Measures load times\n- Target pass rate: \u226585% (17/20 tests)\n- Test report generated with:\n  - Pass/fail for each test\n  - Bug details\n  - Performance metrics (map load time, search response time)\n  - Google Maps API usage\n- Critical bugs block release",
    "col": "backlog",
    "priority": "critical",
    "tag": "testing",
    "tags": [
      "testing",
      "mobile"
    ],
    "agent": "",
    "created": 1770521013240,
    "order": 75,
    "storyNumber": "US-076"
  },
  {
    "id": 1770521031310,
    "title": "Create automated test reporting - pass rate %, bug tracking",
    "description": "**User Story:**\nAs a Test Agent, I want automated test reporting so that the team can quickly see test results, pass rates, and bugs without manual report creation.\n\n**Acceptance Criteria:**\n- Automated test reporting system:\n  - Runs after each test suite execution\n  - Aggregates results from all test cases\n  - Generates report in HTML/PDF format\n- Report includes:\n  - Overall pass rate (percentage)\n  - Pass/fail breakdown by category\n  - List of failed tests with details\n  - Bug tracking (new bugs, fixed bugs, regression bugs)\n  - Performance metrics (load times, response times)\n  - Screenshots/videos of failures\n  - Trends over time (pass rate improving or declining)\n- Report is:\n  - Automatically sent to team (email, Slack, etc.)\n  - Saved to shared location (Netlify, S3, etc.)\n  - Version-controlled\n- Bugs are:\n  - Automatically logged to issue tracker (GitHub Issues, Jira)\n  - Assigned priority based on test category\n  - Linked to test case that found them",
    "col": "backlog",
    "priority": "medium",
    "tag": "testing",
    "tags": [
      "testing",
      "automation"
    ],
    "agent": "",
    "created": 1770521014240,
    "order": 76,
    "storyNumber": "US-077"
  },
  {
    "id": 1770521031311,
    "title": "Add show/hide toggle to trip map password field (MANDATORY rule)",
    "description": "**User Story:**\nAs a trip map user, I want a show/hide toggle for the password field so that I can verify my password entry without retyping.\n\n**Acceptance Criteria:**\n- Password field includes eye icon toggle button\n- Clicking/tapping icon:\n  - Shows password in plain text\n  - Changes icon to \"eye with slash\" (indicating hidden state)\n- Clicking again hides password (back to dots/asterisks)\n- Toggle works on:\n  - Desktop (mouse click)\n  - Mobile (touch tap)\n  - Keyboard (tab to button, space/enter to activate)\n- Toggle positioned at right edge of password field\n- Toggle is accessible (screen reader announces state)\n- Toggle follows MANDATORY design rule for all password fields\n- Implementation tested and verified",
    "col": "backlog",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "coding",
      "ux"
    ],
    "agent": "",
    "created": 1770521015240,
    "order": 77,
    "storyNumber": "US-078"
  },
  {
    "id": 1770521031312,
    "title": "Add show/hide toggle to Mobileclaw vault password (MANDATORY rule)",
    "description": "**User Story:**\nAs a Mobileclaw user, I want a show/hide toggle for the vault password field so that I can verify my password entry without retyping, especially on mobile.\n\n**Acceptance Criteria:**\n- Vault password field includes eye icon toggle button\n- Tapping icon:\n  - Shows password in plain text\n  - Changes icon to \"eye with slash\"\n- Tapping again hides password\n- Toggle works on iOS and Android\n- Toggle positioned at right edge of password field (mobile-friendly size)\n- Toggle is accessible (VoiceOver/TalkBack compatible)\n- Follows platform conventions (iOS/Android)\n- Follows MANDATORY design rule for all password fields\n- Implementation tested on physical devices",
    "col": "backlog",
    "priority": "high",
    "tag": "mobile",
    "tags": [
      "mobile",
      "ux"
    ],
    "agent": "",
    "created": 1770521016240,
    "order": 78,
    "storyNumber": "US-079"
  },
  {
    "id": 1770521031313,
    "title": "Audit all apps for password fields - ensure all have show/hide toggle",
    "description": "**User Story:**\nAs a Test Agent, I want to audit all 9 apps for password fields so that we can ensure every password field has a show/hide toggle, meeting our MANDATORY design rule.\n\n**Acceptance Criteria:**\n- Audit all 9 applications:\n  - Task Board\n  - Trip Map\n  - Scholarship Hunt Pro\n  - TikTok Downloader\n  - Viral Score Analyzer\n  - ThreadCraft AI\n  - AgentHub\n  - ClawMetrics\n  - TPUSA Intel\n- For each app, check:\n  - All password input fields identified\n  - Each password field has show/hide toggle\n  - Toggle works correctly\n  - Toggle is accessible\n- Audit report includes:\n  - App name\n  - Password fields found\n  - Toggle present (yes/no)\n  - Issues found\n  - Priority for fixes\n- Apps without toggle are prioritized for immediate fix\n- Follow-up audit after fixes confirms 100% compliance",
    "col": "backlog",
    "priority": "medium",
    "tag": "testing",
    "tags": [
      "testing",
      "ux"
    ],
    "agent": "",
    "created": 1770521017240,
    "order": 79,
    "storyNumber": "US-080"
  },
  {
    "id": 1770521031314,
    "title": "Update Designer Agent to enforce password show/hide in test cases",
    "description": "**User Story:**\nAs a Designer Agent maintainer, I want to update the Designer Agent to always include password show/hide toggle in test cases so that future designs never miss this MANDATORY requirement.\n\n**Acceptance Criteria:**\n- Designer Agent updated:\n  - Test case template includes password show/hide check\n  - Every design spec that includes password fields automatically gets test case for show/hide toggle\n  - Test case verifies:\n    - Toggle is present\n    - Toggle is positioned correctly\n    - Toggle changes icon on click\n    - Toggle actually shows/hides password\n    - Toggle is accessible\n- Update documentation:\n  - MANDATORY rule documented in Designer Agent README\n  - Examples provided\n- Test new behavior:\n  - Generate test cases for a feature with password field\n  - Verify password show/hide test is included\n- Backward compatibility:\n  - Existing test cases are not affected\n  - New test cases follow updated template",
    "col": "backlog",
    "priority": "medium",
    "tag": "design",
    "tags": [
      "design",
      "testing"
    ],
    "agent": "",
    "created": 1770521018240,
    "order": 80,
    "storyNumber": "US-081"
  },
  {
    "id": 1770521031315,
    "title": "Complete OpenClaw Chat for Mobileclaw - 3-5 days (10 subtasks)",
    "description": "**User Story:**\nAs a Mobile Agent, I want to complete the OpenClaw Chat feature for Mobileclaw so that users can communicate with OpenClaw AI from their mobile devices.\n\n**Acceptance Criteria:**\n- 10 subtasks completed:\n  1. Build chat UI (message bubbles, input, history)\n  2. Implement WebSocket client (connect to gateway)\n  3. Build attachment system (images, videos, documents, 50MB limit)\n  4. Design chat interface (20 UX test cases)\n  5. Implement local message storage (SQLite)\n  6. Add push notifications\n  7. Add typing indicators and read receipts\n  8. Implement file upload progress indicators\n  9. Add message search and export\n  10. Add message reactions and formatting\n- All subtasks follow their individual acceptance criteria\n- Integration testing: All components work together\n- Performance: Chat is fast and responsive\n- Works offline with sync when online\n- Passes \u226585% of UX test cases\n- Time estimate: 3-5 days\n- MVP1 ready for dogfooding",
    "col": "progress",
    "priority": "critical",
    "tag": "mobile",
    "tags": [
      "mobile",
      "mvp1"
    ],
    "agent": "Mobile Agent",
    "created": 1770521019240,
    "order": 81,
    "storyNumber": "US-082"
  },
  {
    "id": 1770521031316,
    "title": "Complete Scholarship Hunt Pro v2.0 - 1-2 hours (v2 file 781 lines started)",
    "description": "**User Story:**\nAs Cole (agent), I want to complete Scholarship Hunt Pro v2.0 so that students have a fully functional scholarship search tool with improved UX.\n\n**Acceptance Criteria:**\n- v2 file (781 lines) is completed:\n  - 6-step onboarding wizard implemented\n  - Profile management working\n  - Scholarship search functional\n  - Filtering and sorting working\n  - Saved scholarships feature\n  - Deadline tracking and reminders\n- All features tested locally\n- No console errors or warnings\n- Responsive design works on mobile (320px to 428px)\n- Lighthouse scores \u226590 across all metrics\n- Deployed to production\n- Time estimate: 1-2 hours\n- Ready for user testing",
    "col": "progress",
    "priority": "high",
    "tag": "research",
    "tags": [
      "research",
      "immediate"
    ],
    "agent": "Cole",
    "created": 1770521020240,
    "order": 82,
    "storyNumber": "US-083"
  },
  {
    "id": 1770521031317,
    "title": "Fix Mobileclaw Security - AES-256-GCM encryption",
    "description": "**User Story:**\nAs a Mobile Agent, I want to implement AES-256-GCM encryption for the Mobileclaw vault so that user data is cryptographically secure.\n\n**Acceptance Criteria:**\n- Given user creates or unlocks vault\n- When data is stored in the vault\n- Then:\n  - All vault data is encrypted with AES-256-GCM\n  - Encryption key is derived from user's password using PBKDF2\n  - Encrypted data includes authentication tag (GCM mode)\n  - Key derivation uses high iteration count (\u2265100,000)\n  - Random salt and IV are generated for each encryption\n  - No plaintext data is stored on device\n  - Encryption/decryption happens in memory\n- Security validation:\n  - Passes security audit\n  - No vulnerabilities in implementation\n  - Proper key management\n- Performance: Encrypt/decrypt operations complete in <100ms\n- Works offline\n- In progress with Mobile Agent",
    "col": "progress",
    "priority": "critical",
    "tag": "mobile",
    "tags": [
      "mobile",
      "security"
    ],
    "agent": "Mobile Agent",
    "created": 1770521021240,
    "order": 83,
    "storyNumber": "US-084"
  },
  {
    "id": 1770521031318,
    "title": "Fix Mobileclaw Security - PBKDF2 password hashing",
    "description": "**User Story:**\nAs a Mobile Agent, I want to implement PBKDF2 password hashing for Mobileclaw so that user passwords are protected against brute-force attacks.\n\n**Acceptance Criteria:**\n- Given user sets a password\n- When password is hashed\n- Then:\n  - PBKDF2 algorithm is used with SHA-256\n  - Iteration count is \u2265100,000 (OWASP recommendation)\n  - Random salt is generated for each user (\u2265128 bits)\n  - Salt is stored alongside hash\n  - Hash is stored securely (not in plain text)\n  - Password verification uses constant-time comparison\n- Security validation:\n  - Passes security audit\n  - No timing attacks possible\n  - Salt is truly random\n- Performance: Hashing completes in <500ms\n- Iteration count can be increased in future without breaking existing hashes\n- No passwords stored in logs or error messages\n- In progress with Mobile Agent",
    "col": "progress",
    "priority": "critical",
    "tag": "mobile",
    "tags": [
      "mobile",
      "security"
    ],
    "agent": "Mobile Agent",
    "created": 1770521022240,
    "order": 84,
    "storyNumber": "US-085"
  },
  {
    "id": 1770521031319,
    "title": "Start Mobileclaw Dogfooding - Load API keys, plan Japan trip in Places",
    "description": "**User Story:**\nAs Cole (agent), I want to start dogfooding Mobileclaw by loading my API keys and planning my Japan trip in Places so that I can identify usability issues and improvements.\n\n**Acceptance Criteria:**\n- API keys loaded into Mobileclaw:\n  - OpenClaw gateway credentials\n  - Google Maps API key\n  - Any other required keys\n- Japan trip planning in Places:\n  - Create \"Tokyo/Osaka Trip\" in Places\n  - Add \u226510 locations (restaurants, hotels, attractions)\n  - Organize by day/category\n  - Test map functionality\n  - Test place search\n  - Test navigation integration\n- Dogfooding notes:\n  - Document usability issues found\n  - Note features that work well\n  - Suggest improvements\n  - Take screenshots of issues\n- Feedback shared with Mobile Agent for iteration\n- Continue using Mobileclaw daily for personal tasks",
    "col": "progress",
    "priority": "high",
    "tag": "mobile",
    "tags": [
      "mobile",
      "testing"
    ],
    "agent": "Cole",
    "created": 1770521023240,
    "order": 85,
    "storyNumber": "US-086"
  },
  {
    "id": 1770521031320,
    "title": "Designer Agent - Launch for 9 design tasks (Alex)",
    "description": "**User Story:**\nAs a Designer Agent (Alex), I want to complete 9 design tasks so that all features have proper design specifications before implementation.\n\n**Acceptance Criteria:**\n- 9 design tasks completed:\n  1. Create unified design spec for standard features (8 categories, 20 UX tests each)\n  2. Design trip map v3 timeline filtering UI - 20 UX test cases\n  3. Design trip map v3 train schedule section - accessibility review\n  4. Design Mobileclaw Places feature - Google Maps integration\n  5. Design Mobileclaw Second Brain UI - ideas\u2192tasks flow\n  6. Design Mobileclaw Security Dashboard - vault settings screen\n  7. Design Mobileclaw Cloud Wizard - step-by-step wizard UI\n  8. Design Mobileclaw AdMob integration - banner placement\n  9. Design OpenClaw Chat interface - 20 UX test cases\n- Each design includes:\n  - High-fidelity mockups or interactive prototype\n  - Design spec document\n  - 20 UX test cases (where applicable)\n  - Light and dark mode\n  - Responsive designs\n- All designs follow established design system\n- Designs are reviewed and approved\n- Ready for implementation by frontend/mobile agents",
    "col": "progress",
    "priority": "high",
    "tag": "design",
    "tags": [
      "design",
      "orchestration"
    ],
    "agent": "Designer Agent (Alex)",
    "created": 1770521024240,
    "order": 86,
    "storyNumber": "US-087"
  },
  {
    "id": 1770521031321,
    "title": "Trip Map v3 Enhancements - Places UI Kit, Street View, Find Food",
    "description": "**User Story:**\nAs a Frontend Agent, I want to implement trip map v3 enhancements so that users have a richer, more useful trip planning experience.\n\n**Acceptance Criteria:**\n- Google Places UI Kit integration:\n  - Place details with photos, reviews, hours\n  - Rich info windows\n  - Follows Google design guidelines\n- Street View integration:\n  - Accessible from map markers\n  - 360-degree panorama\n  - Navigation controls\n- \"Find place to eat\" button:\n  - Searches nearby restaurants\n  - Results shown on map and in list\n  - Filtering by cuisine, price, rating\n- Additional enhancements:\n  - List view toggle\n  - Hamburger menu for mobile\n  - Upcoming activities with countdown\n- All enhancements tested and working\n- Performance: Features load quickly (<3 seconds)\n- Mobile-responsive\n- In progress with Frontend Agent",
    "col": "progress",
    "priority": "med",
    "tag": "coding",
    "tags": [
      "frontend",
      "enhancement"
    ],
    "agent": "Frontend Agent",
    "created": 1770521025240,
    "order": 87,
    "storyNumber": "US-088"
  },
  {
    "id": 1770521031322,
    "title": "List view toggle for all locations",
    "description": "**User Story:**\nAs a trip map user, I want to toggle between map view and list view so that I can browse all my locations in a structured list format.\n\n**Acceptance Criteria:**\n- Toggle button switches between map and list view\n- List view shows:\n  - All locations grouped by day or category\n  - Name, address, time, thumbnail, icon\n  - Sortable and filterable\n  - Search box\n- Clicking location switches to map view and centers on it\n- View preference is saved\n- Both views stay in sync\n- Works on mobile and desktop\n- Currently in progress",
    "col": "progress",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "coding"
    ],
    "agent": "",
    "created": 1770521026240,
    "order": 88,
    "storyNumber": "US-089"
  },
  {
    "id": 1770521031323,
    "title": "Hamburger menu for mobile navigation",
    "description": "**User Story:**\nAs a trip map user on mobile, I want a hamburger menu so that I can access navigation and settings without cluttering the map.\n\n**Acceptance Criteria:**\n- Hamburger icon in corner\n- Opens slide-out menu with:\n  - Trip selector\n  - Settings\n  - Export/share\n  - Help\n  - About\n- Smooth animations\n- Accessible\n- Follows platform design guidelines\n- Desktop uses full nav bar instead\n- Currently in progress",
    "col": "progress",
    "priority": "critical",
    "tag": "coding",
    "tags": [
      "coding"
    ],
    "agent": "",
    "created": 1770521027241,
    "order": 89,
    "storyNumber": "US-090"
  },
  {
    "id": 1770521031324,
    "title": "Find place to eat button (Places API)",
    "description": "**User Story:**\nAs a trip map user, I want a \"Find place to eat\" button so that I can quickly discover nearby restaurants.\n\n**Acceptance Criteria:**\n- Button prominently displayed\n- Searches restaurants near map center/user location\n- Returns 10-20 results as markers and list\n- Results include name, photo, rating, price, distance, hours\n- Filterable by cuisine, price, rating, distance\n- Clicking result shows full details\n- Search updates as map pans\n- Works on mobile and desktop\n- Currently in progress",
    "col": "progress",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "coding"
    ],
    "agent": "",
    "created": 1770521028241,
    "order": 90,
    "storyNumber": "US-091"
  },
  {
    "id": 1770521031325,
    "title": "Upcoming activities with countdown",
    "description": "**User Story:**\nAs a trip map user, I want to see my upcoming activities with countdown timers so that I stay on schedule.\n\n**Acceptance Criteria:**\n- Shows next 3 scheduled activities\n- Each displays: name, location, time, countdown, icon\n- Auto-updates every minute\n- Collapsed on mobile, expandable\n- Clicking centers map on location\n- Countdown turns red when <30 minutes away\n- If no upcoming activities, shows message\n- Currently in progress",
    "col": "progress",
    "priority": "medium",
    "tag": "coding",
    "tags": [
      "coding"
    ],
    "agent": "",
    "created": 1770521029241,
    "order": 91,
    "storyNumber": "US-092"
  },
  {
    "id": 1770521031326,
    "title": "\ud83d\udd25 Train schedule integration (Tokyo Metro, JR, Osaka) (BRIAN PRIORITY - WEB VERSION)",
    "description": "**User Story:**\nAs a trip map user planning train travel in Japan, I want integrated train schedules for Tokyo Metro, JR, and Osaka lines so that I can plan my routes without leaving the app.\n\n**Acceptance Criteria:**\n- Train schedule section displays:\n  - Train line information (JR Yamanote, Tokyo Metro Ginza, etc.)\n  - Departure/arrival times\n  - Platform numbers\n  - Travel duration\n  - Transfer information\n  - Real-time status (on time, delayed, cancelled)\n- Integration with:\n  - Japan Transit API (Hyperdia, Jorudan, or similar)\n  - Real-time data when available\n- User can:\n  - Search for routes between two stations\n  - View schedule for specific line\n  - See recommended route based on time/cost\n  - Save favorite routes\n- UI is accessible (WCAG 2.1 AA compliant)\n- Works on mobile (320px) to desktop (1920px)\n- Graceful fallback if API unavailable\n- Brian priority - web version first\n- Currently in progress",
    "col": "progress",
    "priority": "high",
    "tag": "coding",
    "tags": [
      "coding"
    ],
    "agent": "",
    "created": 1770521030241,
    "order": 92,
    "storyNumber": "US-093"
  },
  {
    "id": "card-1770584118289",
    "title": "PM Agent: Write User Stories for All Tasks",
    "description": "Write proper user story descriptions for all kanban board tasks following industry standards.\n\n**Format:**\n\"As a [user], I want [goal] so that [reason].\"\n\n**Acceptance Criteria Format:**\nUse Given/When/Then (GWT) for scenario-based criteria:\n- Given: Initial context or system state\n- When: User action or event\n- Then: Expected outcome\n\nOR use Rule-Oriented bulleted list for simple conditions.\n\n**Requirements:**\n- Apply INVEST criteria (Independent, Negotiable, Valuable, Estimable, Small, Testable)\n- Focus on user behavior, not UI design\n- Include real-world scenarios and edge cases\n- Ensure stories inform Test Writing Agent\n\n**Deliverable:**\nUpdate all task cards in kanban board with:\n1. User story in standard format\n2. Clear acceptance criteria (GWT or bullets)\n3. Test-ready specifications\n\n**Priority:** P1 - Blocks effective testing and team alignment",
    "tags": [
      "pm",
      "documentation",
      "user-stories",
      "p1"
    ],
    "priority": "high",
    "status": "in-progress",
    "createdAt": "2026-02-08T20:55:18.289Z",
    "assignee": "PM Agent",
    "storyNumber": "US-094"
  },
  {
    "id": "card-1770585729537",
    "title": "Trip Map: Fix Timeline Link + Auto-Center Pins on Day Filter",
    "description": "**User Story:**\nAs a trip planner, I want the Timeline menu link to show a full-screen itinerary list and the map to auto-center on pins when I select a day, so that I can easily view my daily schedule and see all locations without manually panning the map.\n\n**Current Issues:**\n\n1. **Timeline Link Broken:**\n   - Timeline link in footer menu doesn't work\n   - Timeline link in hamburger menu doesn't work\n   - Expected: Clicking Timeline should show full-screen itinerary list view (hides map, shows all days)\n\n2. **Map Doesn't Auto-Center on Day Filter:**\n   - When clicking \"Wed May 14\" (or any day), pins may be off-screen\n   - User has to manually scroll/pan to find the pins\n   - Expected: Map automatically centers/zooms to show all pins for selected day\n\n**Acceptance Criteria:**\n\n**Timeline Link:**\nGiven I am viewing the trip map\nWhen I click \"Timeline\" in the footer menu OR hamburger menu\nThen the map should hide\nAnd a full-screen list view of all days should appear\nAnd I should see all itinerary items organized by day\nAnd clicking a day in the list should return to map view with that day selected\n\n**Auto-Center on Day Filter:**\nGiven I am viewing the trip map\nWhen I click on any day filter (e.g., \"Wed May 14\")\nThen the map should automatically pan and zoom to center all pins for that day\nAnd all markers (VRBO, restaurants, train station) should be visible in viewport\nAnd the zoom level should be appropriate (not too close, not too far)\n\nGiven I click \"Fri May 9\" (Tokyo day)\nWhen the pins load\nThen the map should center on Tokyo area\nAnd all 9 restaurants + Tokyo VRBO + train station should be in view\n\nGiven I click \"Wed May 14\" (Osaka day)\nWhen the pins load\nThen the map should center on Osaka area\nAnd all 9 restaurants + Osaka VRBO + train station should be in view\n\n**Technical Notes:**\n- Use Google Maps fitBounds() or setCenter() + setZoom()\n- Calculate bounding box from all visible markers\n- Timeline link likely needs event handler attached\n- May need to hide map container and show list container\n\n**Test Cases:**\n1. Click Timeline link in footer \u2192 Full list view appears\n2. Click Timeline link in hamburger \u2192 Full list view appears\n3. Click day in list view \u2192 Returns to map with day selected\n4. Filter to May 8 \u2192 Map centers on Tokyo pins\n5. Filter to May 14 \u2192 Map centers on Osaka pins\n6. All pins visible without manual panning\n\n**Priority:** P1 (High) - Core UX feature for trip planning",
    "tags": [
      "trip-map",
      "ux",
      "google-maps",
      "navigation",
      "p1"
    ],
    "priority": "high",
    "status": "in-progress",
    "createdAt": "2026-02-08T21:22:09.537Z",
    "assignee": "Coder Agent",
    "storyNumber": "US-095"
  },
  {
    "id": "card-1770585846635",
    "title": "Trip Map: Fix Mobile Responsiveness + Device Detection",
    "description": "**User Story:**\nAs a mobile user planning my trip, I want to tap on map pins and see location details at the bottom of the screen so that I can view restaurant info, addresses, and hours without desktop-only interactions.\n\n**Current Issues:**\n\n1. **Pins Don't Show Info on Mobile Tap:**\n   - Tapping pins on mobile doesn't display info panel at bottom\n   - Expected: Tap pin \u2192 Info panel slides up from bottom with location details\n\n2. **No Device Detection:**\n   - App doesn't detect mobile vs desktop\n   - Desktop interactions (hover, click) don't translate to mobile (tap, long-press)\n   - Expected: Responsive behavior based on device type\n\n3. **Missing Mobile Testing:**\n   - No Playwright mobile device emulation in test suite\n   - Can't verify mobile UX without manual testing\n   - Expected: Playwright tests run on mobile viewports (iPhone, Android)\n\n**Acceptance Criteria:**\n\n**Mobile Pin Interaction:**\nGiven I am on a mobile device (iOS or Android)\nWhen I tap on a restaurant pin\nThen an info panel should slide up from the bottom\nAnd show restaurant name, rating, address, hours, distance\nAnd I should be able to swipe down to dismiss the panel\n\nGiven I tap on the VRBO pin\nThen the VRBO info panel should appear at bottom\nAnd show accommodation name, address, check-in/out dates\n\n**Device Detection:**\nGiven the app loads on any device\nWhen the viewport width is <768px\nThen mobile mode should activate automatically\nAnd touch events should be enabled (tap, swipe, pinch-zoom)\nAnd desktop hover behaviors should be disabled\n\nGiven the viewport width is \u2265768px\nThen desktop mode should activate\nAnd click/hover events should work normally\n\n**Playwright Mobile Testing:**\nGiven the test suite runs\nWhen executing mobile test cases\nThen Playwright should emulate:\n- iPhone 14 Pro (393x852, iOS)\n- Pixel 7 (412x915, Android)\n- iPad Air (820x1180, tablet)\n\nAnd all tests should pass on mobile viewports\nAnd screenshots should capture mobile UI states\n\n**Technical Notes:**\n- Use CSS media queries: @media (max-width: 768px)\n- Detect touch: 'ontouchstart' in window\n- Google Maps: Set gestureHandling: 'greedy' for mobile\n- Info panel: Position fixed bottom, transform translateY for slide-up\n- Playwright devices: Import from '@playwright/test' \u2192 devices\n\n**Test Cases:**\n1. Load on iPhone \u2192 Mobile mode active\n2. Tap restaurant pin \u2192 Info panel appears at bottom\n3. Tap VRBO pin \u2192 VRBO info shown\n4. Swipe info panel down \u2192 Panel dismisses\n5. Load on desktop \u2192 Desktop mode active\n6. All Playwright tests pass on mobile devices\n\n**Priority:** P0 (CRITICAL) - Mobile users can't use the app effectively",
    "tags": [
      "trip-map",
      "mobile",
      "responsive",
      "ux",
      "testing",
      "p0"
    ],
    "priority": "critical",
    "status": "in-progress",
    "createdAt": "2026-02-08T21:24:06.635Z",
    "assignee": "Coder Agent + Test Agent",
    "storyNumber": "US-096"
  },
  {
    "id": "card-1770586180109",
    "title": "Kanban Mobile: Fix Card Tap to Show Details Modal",
    "description": "**User Story:**\nAs a mobile user managing tasks, I want to tap on a card to see its full description and details so that I can review task information on my phone.\n\n**Current Problem:**\nWhen tapping a card on mobile devices (Android/iPhone), NOTHING happens. No modal, no details popup, completely unresponsive.\n\n**Expected Behavior:**\nTap card \u2192 Modal opens with full description, tags, priority, status\n\n**Root Cause:**\nLikely desktop-only click handlers, or mobile tap events not attached to cards.\n\n**Acceptance Criteria:**\n\nGiven I am on a mobile device (Android or iPhone)\nWhen I tap on any task card\nThen a modal should open showing full task details\nAnd I should see: title, description, tags, priority, status, edit/delete buttons\n\nGiven the modal is open\nWhen I tap outside the modal or tap close button\nThen the modal should close\n\nGiven I tap \"Edit\" in the modal\nWhen I make changes\nThen changes should save and modal should close\n\n**Technical Notes:**\n- Check if click event listeners work on touch devices\n- May need: addEventListener('touchend') in addition to 'click'\n- Test on Playwright mobile projects (Pixel 7, iPhone 14 Pro)\n- Verify modal z-index is high enough on mobile\n\n**Test Cases:**\n1. Tap card on Android \u2192 Modal opens\n2. Tap card on iPhone \u2192 Modal opens\n3. Tap outside modal \u2192 Modal closes\n4. Edit card from mobile modal \u2192 Saves correctly\n\n**Priority:** CRITICAL - Brian mentioned this twice (first as general mobile issue, now specific to cards)",
    "tags": [
      "mobile",
      "ux",
      "modal",
      "p0",
      "android",
      "iphone"
    ],
    "priority": "critical",
    "status": "in-progress",
    "createdAt": "2026-02-08T21:29:40.109Z",
    "assignee": "Coder Agent",
    "storyNumber": "US-097"
  },
  {
    "id": "card-1770586325482",
    "title": "Trip Map: Fix Day Tabs Scroll After Timeline Return",
    "description": "**User Story:**\nAs a trip planner, I want the day tabs to remain accessible when returning from timeline view to map view so that I can easily switch between days without losing the navigation header.\n\n**Current Problem:**\n1. Start on map view (day tabs visible at top)\n2. Click Timeline \u2192 Full itinerary list appears\n3. Click back to map view\n4. Day tabs are scrolled down and inaccessible\n5. Can't scroll up to see the day tabs\n\n**Expected Behavior:**\nWhen returning from timeline view to map view, the page should scroll to top so day tabs are visible.\n\n**Acceptance Criteria:**\n\nGiven I am viewing the timeline list\nWhen I click \"Back to Map View\" or a day header\nThen the map should appear\nAnd the day tabs should be visible at the top\nAnd the scroll position should be at top\n\n**Technical Fix:**\nAdd window.scrollTo(0, 0) in returnToMapView() function\n\n**Priority:** P1 (High) - Core navigation UX, Brian just reported",
    "tags": [
      "trip-map",
      "ux",
      "navigation",
      "scroll",
      "timeline",
      "p1"
    ],
    "priority": "high",
    "status": "in-progress",
    "createdAt": "2026-02-08T21:32:05.482Z",
    "assignee": "Coder Agent",
    "storyNumber": "US-098"
  },
  {
    "id": "card-1770586816162",
    "title": "Trip Map: Fix Hamburger Timeline Navigation Scroll",
    "description": "**Brian's Report:** \"If I go in the hamburger menu from MapView to TimelineView to MapView, it's not working properly\"\n\n**Current Problem:**\nThe scroll-to-top fix works for footer Timeline link, but NOT for hamburger menu Timeline link.\n\n**Root Cause:**\nHamburger Timeline link likely has different event handler that doesn't call returnToMapView() properly.\n\n**Fix Required:**\nEnsure BOTH Timeline links (footer AND hamburger) use same returnToMapView() function with scroll-to-top.\n\n**Test on ALL 3 platforms:**\n- Android (Pixel 7)\n- iPhone (iPhone 14 Pro)\n- Desktop (1440x900)\n\n**Screenshot proof required BEFORE claiming fixed:**\nMEDIA:./screenshots/android-timeline-hamburger.png\nMEDIA:./screenshots/iphone-timeline-hamburger.png\nMEDIA:./screenshots/desktop-timeline-hamburger.png\n\n**Priority:** P0 CRITICAL - Brian mentioned this twice + enforcing screenshot rule",
    "tags": [
      "trip-map",
      "navigation",
      "hamburger",
      "timeline",
      "scroll",
      "p0"
    ],
    "priority": "critical",
    "status": "in-progress",
    "createdAt": "2026-02-08T21:40:16.162Z",
    "assignee": "Coder Agent",
    "storyNumber": "US-099"
  },
  {
    "id": "card-1770587295573",
    "title": "Kanban Light Mode: Fix Header Text Visibility",
    "description": "**Brian's Screenshot:** Header text (Backlog, Next Up, Active) is INVISIBLE in light mode - dark text on dark background.\n\n**Current Problem:**\nColumn headers appear as dark text on dark background in light mode, making them unreadable.\n\n**Expected:**\nLight mode header text should be dark on light background (high contrast).\n\n**Fix Required:**\n\nCSS for light mode:\n```css\n[data-theme=\"light\"] .column-header,\n@media (prefers-color-scheme: light) {\n  .column-header {\n    color: #1e293b; /* Dark text */\n    background: #f1f5f9; /* Light background */\n  }\n}\n```\n\n**Test Requirements:**\n\nPer /workspace/memory/testing-standards.md, MUST test BOTH modes:\n\n1. Light mode screenshots (3 platforms)\n2. Dark mode screenshots (3 platforms)\n3. Verify header text readable in both\n\n**Screenshot Proof Required:**\n\nMEDIA:./screenshots/android-light-header.png\nMEDIA:./screenshots/android-dark-header.png\nMEDIA:./screenshots/iphone-light-header.png\nMEDIA:./screenshots/iphone-dark-header.png\nMEDIA:./screenshots/desktop-light-header.png\nMEDIA:./screenshots/desktop-dark-header.png\n\n**Priority:** P0 CRITICAL - Text visibility is fundamental UX",
    "tags": [
      "kanban",
      "light-mode",
      "contrast",
      "accessibility",
      "p0"
    ],
    "priority": "critical",
    "status": "in-progress",
    "createdAt": "2026-02-08T21:48:15.573Z",
    "assignee": "Coder Agent",
    "storyNumber": "US-100"
  },
  {
    "id": "card-1770587597900",
    "title": "Kanban Desktop: Move Hamburger to Top Left",
    "description": "**Brian's Report:** \"Hamburger is still over the new card button on top right on desktop. For desktop put that hamburger button on top left instead.\"\n\n**Current Problem:**\nHamburger menu (gear icon) positioned at top right, overlapping \"New Card\" button on desktop.\n\n**Expected:**\nDesktop: Hamburger at top left\nMobile: Can stay where it is (or bottom)\n\n**Fix Required:**\n\nCSS for desktop:\n```css\n@media (min-width: 768px) {\n  .hamburger-menu {\n    position: fixed;\n    top: 20px;\n    left: 20px;  /* Move to left on desktop */\n    right: auto;\n  }\n}\n```\n\n**Screenshot proof required:**\nMEDIA:./screenshots/android-hamburger.png (current position ok)\nMEDIA:./screenshots/iphone-hamburger.png (current position ok)\nMEDIA:./screenshots/desktop-hamburger.png (moved to top left, no overlap with New Card)\n\n**Priority:** P1 (High) - UX polish, prevents button overlap",
    "tags": [
      "kanban",
      "desktop",
      "hamburger",
      "positioning",
      "ux",
      "p1"
    ],
    "priority": "high",
    "status": "in-progress",
    "createdAt": "2026-02-08T21:53:17.900Z",
    "assignee": "Coder Agent",
    "storyNumber": "US-101"
  },
  {
    "id": "card-1770587618307",
    "title": "CRITICAL: Drag-Drop STILL Broken (2nd Report)",
    "description": "**Brian's Report (2nd time):** \"still can't drag cards from backlog to next up\"\n\n**Previous Fix Failed:**\nCommit a64f5d7 claimed to fix this but drag-drop STILL doesn't work.\n\n**Root Cause Unknown:**\nNeed deeper investigation beyond just setupDropZones().\n\n**Debug Steps:**\n1. Check if dragstart event fires (console.log)\n2. Check if dragover fires on target column\n3. Check if drop event fires\n4. Check dataTransfer contains card data\n5. Check if DOM actually updates\n\n**Video Proof Required:**\nScreenshots can't prove drag-drop works. Need VIDEO or animated GIF showing:\n- Grab card from Backlog\n- Drag over Next Up column\n- Release\n- Card appears in Next Up\n- Card removed from Backlog\n\n**Test on all 3 platforms with VIDEO proof.**\n\n**Priority:** P0 CRITICAL - Brian mentioned this 3+ times now\n\n**ROOT CAUSE FOUND (2026-02-08 15:18):**\n\nBrian's console logs revealed the exact issue:\n\n```\n\ud83d\udca7 DROP on next-up\n\ud83d\udccb Card ID from dataTransfer: 1770521031236\n\u274c Card not found in cards array: 1770521031236\n```\n\n**Problem:**\n- dragstart stores: `1770521031236` (numeric only)\n- cards array has: `card-1770521031236` (with prefix)\n- Lookup fails due to ID mismatch\n\n**Fix:**\nStore FULL card ID in dataTransfer.setData(), not just numeric part.\n\n**Status:** Root cause identified, fix in progress\n\n**\u2705 FIXED (2026-02-08 15:22):**\n\nBrian confirmed: \"yes it is working now\"\n\n**Solution:**\nConvert dataTransfer.getData() result from string to number before lookup:\n```javascript\nconst idString = e.dataTransfer.getData('text/plain');\nconst id = Number(idString);  // Convert to number\nconst card = cards.find(c => c.id === id);  // Now matches!\n```\n\n**Deployed:** Commit 34b9397\n**Verified:** Brian tested drag from Backlog to Next Up - working\n**Restore point:** restore-point-kanban-drag-working-20260208-152426.tar.gz",
    "tags": [
      "drag-drop",
      "critical",
      "bug",
      "backlog",
      "p0"
    ],
    "priority": "critical",
    "status": "done",
    "createdAt": "2026-02-08T21:53:38.307Z",
    "assignee": "Coder Agent",
    "storyNumber": "US-102"
  },
  {
    "id": "card-1770587700651",
    "title": "Kanban: Display Unique ID in Top Right Corner",
    "description": "**Brian's Request:** \"Display a unique id # for each card task or bug in the top right corner\"\n\n**Implementation:**\n\nEach card already has:\n- Story Number (US-001, US-002, etc.)\n- Internal ID (card-1770521031236, etc.)\n\nDisplay story number in top right corner of each card:\n\n```html\n<div class=\"card\">\n  <div class=\"card-id\">#US-042</div>\n  <h3>Task Title</h3>\n  ...\n</div>\n```\n\nCSS:\n```css\n.card-id {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  font-size: 11px;\n  color: #64748b;\n  font-weight: 600;\n  background: rgba(0,0,0,0.05);\n  padding: 2px 6px;\n  border-radius: 4px;\n}\n```\n\n**Screenshot proof required:**\nMEDIA:./screenshots/android-card-ids.png\nMEDIA:./screenshots/iphone-card-ids.png\nMEDIA:./screenshots/desktop-card-ids.png\n\n**Priority:** P2 (Medium) - UX improvement, helpful for tracking",
    "tags": [
      "kanban",
      "ux",
      "card-id",
      "display",
      "p2"
    ],
    "priority": "medium",
    "status": "in-progress",
    "createdAt": "2026-02-08T21:55:00.651Z",
    "assignee": "Coder Agent",
    "storyNumber": "US-103"
  },
  {
    "id": "card-1770587745248",
    "title": "Integrate Test Agent + Code Review with Kanban Board",
    "description": "**Brian's Question:** \"Why am I not seeing new bugs being added to the task board from the test agent or code review agent?\"\n\n**Current State:**\n- Test Agent writes bugs to BUGS/*.md files\n- Code Review writes findings to REVIEW-FINDINGS/*.md files\n- Neither agent actually CREATES kanban cards\n- Integration is documented but NOT implemented\n\n**Required Integration:**\n\n**Test Agent:**\nWhen test fails, automatically:\n1. Create BUGS/BUG-NNN.md (already does this)\n2. Add card to kanban board:\n```javascript\nconst newBug = {\n  id: `card-${Date.now()}`,\n  title: bugTitle,\n  description: bugDescription,\n  tags: [\"bug\", \"test-failure\", testSuite],\n  priority: \"high\",\n  status: \"in-progress\",\n  storyNumber: getNextStoryNumber(),\n  assignee: \"Coder Agent\"\n};\ncards.push(newBug);\nfs.writeFileSync('/workspace/kanban/cards-updated.json', JSON.stringify(cards));\n```\n3. Deploy updated board to Netlify\n\n**Code Review Agent:**\nWhen finding issues, automatically:\n1. Create REVIEW-FINDINGS/FINDING-NNN.md (already does this)\n2. Add P0/P1 findings as kanban cards\n3. Assign to appropriate agent (Coder, Designer, Test Case Writer)\n\n**Acceptance Criteria:**\n\nGiven Test Agent finds a bug\nWhen test suite completes\nThen a new card should appear on kanban board\nAnd card should have bug details, priority, assignee\n\nGiven Code Review finds P0/P1 issue\nWhen review completes\nThen a new card should appear on kanban board\nAnd card should be assigned to correct agent\n\n**Implementation:**\n- Add kanban integration helper: /workspace/scripts/add-kanban-card.js\n- Update Test Agent AGENT.md with kanban integration step\n- Update Code Review AGENT.md with kanban integration step\n- Both agents call helper after creating bug/finding files\n\n**Priority:** P1 (High) - Needed for automated bug tracking",
    "tags": [
      "integration",
      "test-agent",
      "code-review",
      "kanban",
      "automation",
      "p1"
    ],
    "priority": "high",
    "status": "in-progress",
    "createdAt": "2026-02-08T21:55:45.248Z",
    "assignee": "PM Agent",
    "storyNumber": "US-104"
  },
  {
    "id": "card-1770589336111",
    "title": "Trip Map: Add Distinctive Restaurant Markers",
    "description": "**Brian's Report:** \"There should be 9 restaurants, there are small restaurant icons but I think those are not your recommendations. Make clear your top ranked breakfast, lunch, dinner recommendations with pins.\"\n\n**Current Problem:**\nSmall restaurant icons visible on map are generic Google Maps POIs, NOT the curated recommendations.\n\n**Expected:**\n9 clearly visible custom markers for May 8:\n- 3 breakfast (Domo Caf\u00e9, Renoir, Yoshinoya)\n- 3 lunch (ICHIRAN, Gyukatsu Motomura, etc.)\n- 3 dinner (Terakoya, etc.)\n\n**Implementation:**\n\nUse custom marker icons to distinguish recommendation types:\n\n```javascript\n// Breakfast - Orange fork/knife icon\nconst breakfastIcon = {\n  path: google.maps.SymbolPath.CIRCLE,\n  fillColor: '#FF6B35',  // Orange\n  fillOpacity: 1,\n  strokeWeight: 2,\n  strokeColor: '#fff',\n  scale: 12\n};\n\n// Lunch - Green fork/knife icon  \nconst lunchIcon = {\n  path: google.maps.SymbolPath.CIRCLE,\n  fillColor: '#4ECDC4',  // Teal\n  fillOpacity: 1,\n  strokeWeight: 2,\n  strokeColor: '#fff',\n  scale: 12\n};\n\n// Dinner - Purple fork/knife icon\nconst dinnerIcon = {\n  path: google.maps.SymbolPath.CIRCLE,\n  fillColor: '#9B59B6',  // Purple\n  fillOpacity: 1,\n  strokeWeight: 2,\n  strokeColor: '#fff',\n  scale: 12\n};\n\n// Or use custom PNG icons:\nconst breakfastIcon = {\n  url: 'data:image/svg+xml;base64,...',  // Custom breakfast icon\n  scaledSize: new google.maps.Size(40, 40)\n};\n```\n\n**Add labels to markers:**\n\n```javascript\nnew google.maps.marker.AdvancedMarkerElement({\n  map,\n  position: restaurant.coordinates,\n  title: restaurant.name,\n  content: createRestaurantMarker(restaurant),\n  zIndex: 1000  // Ensure on top\n});\n\nfunction createRestaurantMarker(restaurant) {\n  const icon = document.createElement('div');\n  icon.className = 'restaurant-marker';\n  icon.innerHTML = `\n    <div class=\"marker-pin ${restaurant.category}\">\n      <span class=\"marker-label\">\ud83c\udf7d\ufe0f</span>\n    </div>\n    <div class=\"marker-label\">${restaurant.name}</div>\n  `;\n  return icon;\n}\n```\n\n**CSS:**\n\n```css\n.restaurant-marker {\n  position: relative;\n}\n\n.marker-pin {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n}\n\n.marker-pin.breakfast {\n  background: #FF6B35;  /* Orange */\n}\n\n.marker-pin.lunch {\n  background: #4ECDC4;  /* Teal */\n}\n\n.marker-pin.dinner {\n  background: #9B59B6;  /* Purple */\n}\n\n.marker-label {\n  background: white;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 11px;\n  font-weight: 600;\n  margin-top: 4px;\n  white-space: nowrap;\n}\n```\n\n**Acceptance Criteria:**\n\nGiven user views May 8 on trip map\nWhen they zoom to Tokyo area\nThen 9 large, distinct markers visible:\n- 3 orange (breakfast)\n- 3 teal (lunch)\n- 3 purple (dinner)\nAnd each marker shows restaurant name on hover\nAnd markers clearly different from Google Maps generic POIs\n\n**Screenshot proof required:**\nMEDIA:./screenshots/android-restaurant-markers.png\nMEDIA:./screenshots/iphone-restaurant-markers.png\nMEDIA:./screenshots/desktop-restaurant-markers.png\n\nAll 3 showing 9 distinct colored markers for May 8 restaurants.\n\n**Priority:** P1 (High) - UX clarity, differentiates recommendations from noise",
    "tags": [
      "trip-map",
      "restaurants",
      "markers",
      "ux",
      "clarity",
      "p1"
    ],
    "priority": "high",
    "status": "in-progress",
    "createdAt": "2026-02-08T22:22:16.111Z",
    "assignee": "Coder Agent",
    "storyNumber": "US-105"
  },
  {
    "id": "card-1770589872483",
    "title": "Trip Map: Mobile vs Desktop Styling Inconsistency",
    "description": "**Brian's Report:** \"The mobile version looks different than the desktop version\"\n\n**Screenshot shows:**\n- Only 1 standard red marker visible\n- No colored restaurant markers (orange/teal/purple circles)\n- Basic Google Maps default styling\n- Missing custom marker CSS\n\n**Expected (from desktop):**\n- Multiple colored circular markers\n- 40px circles with emoji\n- White borders, box shadows\n- Color coding: orange (breakfast), teal (lunch), purple (dinner)\n\n**Possible causes:**\n1. Custom marker CSS not applying on mobile viewport\n2. AdvancedMarkerElement rendering differently on mobile\n3. Markers outside viewport at current zoom level\n4. Cache issue (old version without colored markers)\n\n**Investigation needed:**\n- Check responsive CSS for custom markers\n- Verify AdvancedMarkerElement mobile compatibility\n- Check viewport meta tag\n- Test zoom/bounds on mobile\n- Clear cache and hard reload\n\n**Screenshot proof required:**\nMEDIA:./screenshots/mobile-colored-markers.png (showing colored circles on mobile)\nMEDIA:./screenshots/desktop-colored-markers.png (comparison)\n\n**Priority:** P1 - Mobile UX critical for Brian's trip",
    "tags": [
      "trip-map",
      "mobile",
      "styling",
      "markers",
      "responsive",
      "p1"
    ],
    "priority": "high",
    "status": "in-progress",
    "createdAt": "2026-02-08T22:31:12.483Z",
    "assignee": "Coder Agent",
    "storyNumber": "US-106"
  },
  {
    "id": "card-1770589908280",
    "title": "Designer: Improve Trip Map Header, Navigation & Colors",
    "description": "**Brian's Request:** \"Give the designer a task using new claude code design skills to further improve the header and navigation and colors of the itinerary app\"\n\n**Current State:**\n- Red header with white text\n- Horizontal day tabs\n- Map/Satellite toggle\n- Timeline menu\n- Basic color scheme\n\n**Designer Task:**\n\nUsing Claude Code design skills, create comprehensive design improvements for:\n\n**1. Header Design**\n- Modern gradient or glassmorphism effect\n- Better typography hierarchy\n- Responsive sizing\n- Light/dark mode support\n- Subtle animations\n\n**2. Navigation UX**\n- Day tabs: Better visual feedback for active day\n- Smooth transitions between days\n- Touch-friendly targets (\u226544px)\n- Swipe gestures for mobile\n- Timeline view improvements\n\n**3. Color System**\n- 2-3 color palette (per COMMANDMENTS.md #5)\n- Consistent across light/dark modes\n- High contrast for accessibility (WCAG 2.2 AA)\n- Semantic colors: primary, secondary, accent\n- Restaurant category colors already defined:\n  - Breakfast: Orange (#FF6B35)\n  - Lunch: Teal (#4ECDC4)\n  - Dinner: Purple (#9B59B6)\n\n**4. Mobile-First Responsive**\n- Mobile optimizations\n- Desktop enhancements\n- Tablet breakpoints\n- Touch interactions\n\n**Designer Agent Workflow:**\n\n1. **Read current implementation:**\n   - /workspace/projects/tokyo-osaka-trip-2026/netlify-deploy/app.html\n\n2. **Generate design specs:**\n   - Header mockups (3 variants)\n   - Navigation patterns\n   - Color palette with hex codes\n   - Typography scale\n   - Spacing system\n   - Animation timing\n\n3. **Create 20+ test cases:**\n   - Header responsive behavior\n   - Day tab interactions\n   - Color contrast checks\n   - Dark mode rendering\n   - Mobile touch targets\n\n4. **Output:**\n   - DESIGN-SPECS.md (comprehensive design system)\n   - MOCKUPS/ directory (visual examples)\n   - TEST-CASES.md (20+ UI/UX tests)\n\n**Handoff to Coder:**\nAfter Designer approval, Coder implements following exact specs.\n\n**Screenshot proof required:**\nMEDIA:./screenshots/trip-map-header-before.png\nMEDIA:./screenshots/trip-map-header-after-desktop.png\nMEDIA:./screenshots/trip-map-header-after-mobile.png\n\n**Priority:** P2 (Medium) - UX polish, not critical bugs\n\n**Launch Designer Agent:**\n```bash\ncd /workspace/agents/designer-agent\n./launch-designer.sh \"Review trip map header, navigation, and color system\"\n```",
    "tags": [
      "trip-map",
      "design",
      "header",
      "navigation",
      "colors",
      "morpheus",
      "p2"
    ],
    "priority": "medium",
    "status": "next-up",
    "createdAt": "2026-02-08T22:31:48.280Z",
    "assignee": "Designer Agent (Morpheus)",
    "storyNumber": "US-107"
  }
];
  
  // Save cards to localStorage
  localStorage.setItem(STORAGE_KEY, JSON.stringify(cards));
  localStorage.setItem('kanban_initialized', 'true');
  localStorage.setItem(VERSION_KEY, CURRENT_VERSION);
  console.log(`âœ… Imported ${cards.length} cards from embedded data`);
})();
let editingId = null;
let draggedId = null;
let activeFilter = null;
let syncing = false;
let lastSyncHash = '';
let activeTab = 'backlog';

// Default data
const DEFAULT_CARDS = [
  { id: uid(), col: 'backlog', title: 'Signal Standalone Setup', desc: "Complete standalone Signal registration for Lena's number +16027679517", priority: 'medium', tag: 'infrastructure', order: 0 },
  { id: uid(), col: 'backlog', title: 'Browser Auth â€” X + TikTok', desc: 'Get authenticated browser sessions for X.com and TikTok scraping', priority: 'high', tag: 'infrastructure', order: 1 },
  { id: uid(), col: 'backlog', title: 'Proton Email Setup', desc: 'Set up Proton Mail Bridge (IMAP/SMTP) so Cole can read/send email. Brian to provide credentials.', priority: 'high', tag: 'infrastructure', order: 2 },
  { id: uid(), col: 'backlog', title: 'Deploy Task Board to Netlify', desc: 'Deploy task board as static site on Netlify for phone access + webchat', priority: 'high', tag: 'infrastructure', order: 3 },
  { id: uid(), col: 'backlog', title: 'Grok Imagine API Setup', desc: 'Connect to xAI Grok Imagine API (grok-imagine-image + grok-imagine-video). Brian to provide XAI_API_KEY.', priority: 'high', tag: 'infrastructure', order: 4 },
  { id: uid(), col: 'backlog', title: 'TikTokâ†’X Content Pipeline', desc: 'Build automated workflow: scan TikTok for TPUSA/Kirk/Bowyer/Kolvet/McCoy content (last 72h) â†’ download â†’ prep for X repost', priority: 'high', tag: 'content', order: 5 },
  { id: uid(), col: 'backlog', title: 'X Account Analysis', desc: 'Analyze @swordtruth posting patterns, best-performing content, optimal posting times', priority: 'medium', tag: 'content', order: 6 },
  { id: uid(), col: 'backlog', title: 'TPUSA Deep Research', desc: 'Ongoing intel gathering on TPUSA corruption â€” Erica Kirk, Tyler Bowyer, Andrew Kolvet, Mikey McCoy, Charlie Kirk', priority: 'high', tag: 'research', order: 7 },
  { id: uid(), col: 'backlog', title: 'Hostile Security Audit', desc: 'BRIAN: Provide hostile security audit prompts. Cole to apply against all builds and infrastructure. Ongoing security hardening.', priority: 'high', tag: 'infrastructure', order: 8 },
  { id: uid(), col: 'progress', title: 'AI Community Research', desc: 'Research OpenClaw community chatter, new features (v2026.2.2), Moltbook social network, security improvements, onchain integrations.', priority: 'high', tag: 'research', order: 0 },
  { id: uid(), col: 'progress', title: 'Task Board Redesign', desc: 'Apply modern mobile-first design system with Sunset Vibrant palette', priority: 'high', tag: 'coding', order: 1 },
  { id: uid(), col: 'done', title: 'Initial Setup', desc: 'Identity, memory, SOUL.md, USER.md, AGENTS.md created', priority: 'high', tag: 'infrastructure', order: 0 },
  { id: uid(), col: 'done', title: 'Brave Search API', desc: 'Configured and working', priority: 'high', tag: 'infrastructure', order: 1 },
  { id: uid(), col: 'done', title: 'Morning Briefing Cron', desc: 'Daily 8:00 AM MST briefing scheduled', priority: 'medium', tag: 'infrastructure', order: 2 },
];

function uid() { return Date.now().toString(36) + Math.random().toString(36).slice(2, 9); }

// Persistence + Cloud Sync
function hashCards(c) { return JSON.stringify(c.map(x => x.id + x.col + x.title + (x.order||0)).sort()); }

async function syncPull() {
  try {
    const res = await fetch(SYNC_URL, { headers: { 'Accept': 'application/json' } });
    if (!res.ok) return false;
    const remote = await res.json();

    // Plain JSON cards from Netlify Function
    if (Array.isArray(remote) && remote.length > 0) {
      // Don't let stale cloud defaults overwrite a richer local dataset.
      // The Netlify function uses in-memory storage that resets on deploy,
      // so cloud often has fewer cards than localStorage.
      const localRaw = localStorage.getItem(STORAGE_KEY);
      if (localRaw) {
        try {
          const local = JSON.parse(localRaw);
          if (Array.isArray(local) && local.length > remote.length) {
            console.log(`âš ï¸ Cloud has ${remote.length} cards but local has ${local.length} â€” keeping local, pushing to cloud`);
            cards = local;
            lastSyncHash = hashCards(local);
            syncPushPlain();
            return true;
          }
        } catch(e) {}
      }

      const remoteHash = hashCards(remote);
      if (remoteHash !== lastSyncHash) {
        cards = remote;
        localStorage.setItem(STORAGE_KEY, JSON.stringify(cards));
        lastSyncHash = remoteHash;
        console.log(`âœ… Synced ${remote.length} cards from cloud`);
        return true;
      }
    }
    return false;
  } catch(e) {
    console.error('Sync failed:', e);
    return false;
  }
}

async function syncPushPlain() {
  if (syncing) return;
  syncing = true;
  try {
    await fetch(SYNC_URL, {
      method: 'PUT',
      headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
      body: JSON.stringify(cards)
    });
    lastSyncHash = hashCards(cards);
    console.log(`âœ… Pushed ${cards.length} cards to cloud (plain)`);
  } catch(e) { console.error('Push failed:', e); }
  syncing = false;
}

async function syncPush() {
  if (syncing) return;
  if (cryptoKey) {
    syncing = true;
    try {
      const encrypted = await encryptData(cryptoKey, cards);
      await fetch(SYNC_URL, {
        method: 'PUT',
        headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
        body: JSON.stringify({ encrypted: true, payload: encrypted })
      });
      lastSyncHash = hashCards(cards);
    } catch(e) {}
    syncing = false;
  } else {
    await syncPushPlain();
  }
}

// Migrate old cards without descriptions
function migrateCardDescriptions() {
  console.log('ğŸ”§ migrateCardDescriptions() called');
  console.log('ğŸ”§ cards.length:', cards.length);
  
  const currentVersion = localStorage.getItem('kanban_data_version');
  const targetVersion = '2';
  
  console.log(`ğŸ”§ Current version: ${currentVersion}, Target: ${targetVersion}`);
  
  // Skip if already migrated to current version
  if (currentVersion === targetVersion) {
    console.log(`âœ… Data already at version ${targetVersion}`);
    return 0;
  }
  
  console.log(`ğŸ”„ Migrating data from version ${currentVersion || 'none'} to ${targetVersion}`);
  
  let migrated = 0;
  cards.forEach(card => {
    // Skip if card already has description or desc
    if (card.description || card.desc) {
      return;
    }
    
    // Build description from available fields
    let desc = '';
    
    // Use agent field if available
    if (card.agent) {
      desc = `Agent: ${card.agent}`;
    }
    
    // Add tags if available
    if (card.tags && Array.isArray(card.tags) && card.tags.length > 0) {
      const tagStr = card.tags.join(', ');
      desc += desc ? ` | Tags: ${tagStr}` : `Tags: ${tagStr}`;
    }
    
    // Fallback to shortened title
    if (!desc) {
      desc = card.title.slice(0, 120);
      if (card.title.length > 120) desc += '...';
    }
    
    card.desc = desc;
    migrated++;
  });
  
  // Always set version after migration attempt
  localStorage.setItem('kanban_data_version', targetVersion);
  
  if (migrated > 0) {
    console.log(`âœ… Migrated ${migrated} cards with descriptions`);
    save();
  } else {
    console.log(`â„¹ï¸ No cards needed migration (all had descriptions)`);
  }
  
  return migrated;
}

async function load() {
  console.log('ğŸ“‚ load() called');

  // Load localStorage first to know what we have locally
  let localCards = null;
  try {
    const raw = localStorage.getItem(STORAGE_KEY);
    if (raw) localCards = JSON.parse(raw);
  } catch(e) {
    console.error('âŒ localStorage parse error:', e);
  }

  // Try cloud sync â€” syncPull now respects local-has-more-cards
  const pulled = await syncPull();
  if (pulled) {
    console.log(`âœ… Loaded ${cards.length} cards (cloud-aware sync)`);
  } else if (localCards && localCards.length > 0) {
    // Use localStorage if available
    cards = localCards;
    console.log(`âœ… Loaded from localStorage: ${cards.length} cards`);
  } else {
    // Last resort: defaults
    cards = DEFAULT_CARDS;
    console.log(`âš ï¸  Loaded defaults: ${cards.length} cards`);
  }

  // ALWAYS migrate cards after loading (from any source)
  console.log(`ğŸ”§ About to call migrateCardDescriptions(), cards.length = ${cards.length}`);
  
  if (cards.length === 0) {
    console.log('âš ï¸ No cards to migrate');
  } else {
    migrateCardDescriptions();
  }
  
  // Save after migration if needed
  if (!pulled) {
    save();
  }
}

function save() {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(cards));
  syncPush();
}

// Render
function render() {
  console.log('ğŸ¨ render() called with', cards.length, 'cards');
  
  ['backlog','next-up','progress','blocked','done'].forEach(col => {
    const container = document.getElementById('col-' + col);
    const colCards = cards
      .filter(c => c.col === col)
      .filter(c => !activeFilter || c.tag === activeFilter)
      .sort((a,b) => (a.order||0) - (b.order||0));

    container.innerHTML = '';
    colCards.forEach(c => container.appendChild(createCardEl(c)));

    const allInCol = cards.filter(c2 => c2.col === col).length;
    const countEl = document.querySelector(`[data-count="${col}"]`);
    if (countEl) {
      countEl.textContent = allInCol;
      console.log(`  ${col}: ${allInCol} cards`);
    } else {
      console.error(`  âŒ Counter element not found for ${col}`);
    }
  });

  const total = cards.length;
  const done = cards.filter(c => c.col === 'done').length;
  const cardCountEl = document.getElementById('cardCount');
  if (cardCountEl) {
    cardCountEl.textContent = `${done}/${total} done`;
    console.log(`  total: ${done}/${total}`);
  } else {
    console.error('  âŒ #cardCount element not found');
  }

  ['backlog','next-up','progress','blocked','done'].forEach(col => {
    const mcount = document.querySelector(`[data-mcount="${col}"]`);
    if (mcount) mcount.textContent = cards.filter(c => c.col === col).length;
  });

  updateMobileColumns();
  renderFilters();
  setupDropZones(); // CRITICAL: Setup drop zones after rendering cards
}

function switchTab(tab) {
  activeTab = tab;
  document.querySelectorAll('.mobile-tab').forEach(t => {
    t.classList.toggle('active', t.dataset.tab === tab);
  });
  updateMobileColumns();
}

function updateMobileColumns() {
  document.querySelectorAll('.column').forEach(col => {
    col.classList.toggle('mobile-active', col.dataset.col === activeTab);
  });
}

function createCardEl(c) {
  const el = document.createElement('div');
  el.className = `card priority-${c.priority}-card${c.recurring ? ' recurring-card' : ''}`;
  el.draggable = true;
  el.dataset.id = c.id;

  const tagClass = getTagClass(c.tag);
  el.innerHTML = `
    <button class="card-edit-btn" onclick="event.stopPropagation(); openModal('${c.id}')" aria-label="Edit">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
        <path d="M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L3.463 11.098a.25.25 0 00-.064.108l-.631 2.208 2.208-.63a.25.25 0 00.108-.064l8.61-8.61a.25.25 0 000-.355l-1.086-1.086z"/>
      </svg>
    </button>
    ${c.storyNumber ? `<div style="font-size: 11px; color: #666; margin-bottom: 4px; font-weight: 600;">${esc(c.storyNumber)}</div>` : ''}
    <div class="card-title">${c.recurring ? 'ğŸ”’ ' : ''}${esc(c.title)}</div>
    ${(c.description || c.desc) ? `<div class="card-desc">${esc(c.description || c.desc)}</div>` : ''}
    <div class="card-meta">
      <span class="priority-badge ${c.priority}">${c.priority}</span>
      ${c.tag ? `<span class="tag ${tagClass}">${esc(c.tag)}</span>` : ''}
    </div>
  `;

  // Card click handler - open modal to view/edit
  let touchStartTime = 0;
  let isDragging = false;
  
  el.addEventListener('touchstart', (e) => {
    touchStartTime = Date.now();
    isDragging = false;
  }, { passive: true });
  
  el.addEventListener('touchmove', () => {
    isDragging = true;
  }, { passive: true });
  
  el.addEventListener('touchend', (e) => {
    const touchDuration = Date.now() - touchStartTime;
    // Only open modal if it was a tap (not drag) and quick (<500ms)
    if (!isDragging && touchDuration < 500) {
      // Check if tap was on edit button
      if (e.target.closest('.card-edit-btn')) {
        return; // Let edit button handle it
      }
      console.log('Card tapped (mobile):', c.id);
      openModal(c.id);
    }
  }, { passive: true });
  
  el.addEventListener('click', (e) => {
    // Ignore if clicking edit button
    if (e.target.closest('.card-edit-btn')) {
      return;
    }
    console.log('Card clicked (desktop):', c.id);
    openModal(c.id);
  });
  
  el.addEventListener('dragstart', onDragStart);
  el.addEventListener('dragend', onDragEnd);
  return el;
}

function getTagClass(tag) {
  const map = { 
    infrastructure:'tag-infrastructure',
    research:'tag-research',
    content:'tag-content',
    coding:'tag-coding',
    organization:'tag-organization'
  };
  return map[tag] || 'tag-default';
}

function esc(s) {
  const d = document.createElement('div');
  d.textContent = s;
  return d.innerHTML;
}

// Filters
function renderFilters() {
  const tags = [...new Set(cards.map(c => c.tag).filter(Boolean))].sort();

  ['filterBar', 'mobileFilterBar'].forEach(barId => {
    const bar = document.getElementById(barId);
    if (!bar) return;
    bar.innerHTML = '';
    if (tags.length <= 1) { bar.style.display = 'none'; return; }
    bar.style.display = '';

    const allChip = document.createElement('button');
    allChip.className = 'filter-chip' + (!activeFilter ? ' active' : '');
    allChip.textContent = 'All';
    allChip.onclick = () => { activeFilter = null; render(); };
    bar.appendChild(allChip);

    tags.forEach(t => {
      const chip = document.createElement('button');
      chip.className = 'filter-chip' + (activeFilter === t ? ' active' : '');
      chip.textContent = t;
      chip.onclick = () => { activeFilter = activeFilter === t ? null : t; render(); };
      bar.appendChild(chip);
    });
  });
}

// Drag & Drop with EXTENSIVE LOGGING
function onDragStart(e) {
  draggedId = e.target.dataset.id;
  console.log('ğŸ¯ DRAGSTART fired:', {
    cardId: draggedId,
    element: e.target,
    dataTransfer: e.dataTransfer
  });
  e.target.classList.add('dragging');
  e.dataTransfer.effectAllowed = 'move';
  e.dataTransfer.setData('text/plain', draggedId);
  console.log('âœ… DataTransfer set:', e.dataTransfer.getData('text/plain'));
}

function onDragEnd(e) {
  console.log('ğŸ DRAGEND fired:', draggedId);
  e.target.classList.remove('dragging');
  draggedId = null;
  document.querySelectorAll('.drag-over').forEach(el => el.classList.remove('drag-over'));
  document.querySelectorAll('.drop-indicator').forEach(el => el.remove());
}

// Setup drop zones - call this after rendering cards
function setupDropZones() {
  console.log('ğŸ”§ setupDropZones() called');
  const columns = document.querySelectorAll('.column-cards');
  console.log('ğŸ“¦ Found', columns.length, 'column containers');
  
  columns.forEach(col => {
    const colName = col.id.replace('col-', '');
    console.log(`  Setting up drop zone for: ${colName}`);
    
    // Remove existing listeners by cloning (clean slate)
    const newCol = col.cloneNode(true);
    col.parentNode.replaceChild(newCol, col);
    
    // Re-attach ALL card event listeners after cloning - FIX BLOCKER #2
    newCol.querySelectorAll('.card').forEach(cardEl => {
      // Drag events
      cardEl.addEventListener('dragstart', onDragStart);
      cardEl.addEventListener('dragend', onDragEnd);
      
      // Click/tap events to open modal
      // Convert ID to proper type (some are numbers, some are strings)
      let cardId = cardEl.dataset.id;
      // Try to parse as number if it looks numeric
      if (/^\d+$/.test(cardId)) {
        cardId = Number(cardId);
      }
      
      // Mobile: touchend with tap detection
      let touchStartTime = 0;
      let isDragging = false;
      
      cardEl.addEventListener('touchstart', (e) => {
        touchStartTime = Date.now();
        isDragging = false;
      }, { passive: true });
      
      cardEl.addEventListener('touchmove', () => {
        isDragging = true;
      }, { passive: true });
      
      cardEl.addEventListener('touchend', (e) => {
        const touchDuration = Date.now() - touchStartTime;
        if (!isDragging && touchDuration < 500) {
          if (e.target.closest('.card-edit-btn')) return;
          console.log('Card tapped (mobile):', cardId);
          openModal(cardId);
        }
      }, { passive: true });
      
      // Desktop: click event
      cardEl.addEventListener('click', (e) => {
        if (e.target.closest('.card-edit-btn')) return;
        console.log('Card clicked (desktop):', cardId);
        openModal(cardId);
      });
    });
    
    newCol.addEventListener('dragover', e => {
      console.log(`âš¡ DRAGOVER on ${colName}:`, {
        clientY: e.clientY,
        dataTransfer: e.dataTransfer,
        effectAllowed: e.dataTransfer.effectAllowed
      });
      e.preventDefault(); // CRITICAL: Allow drop
      e.dataTransfer.dropEffect = 'move';
      newCol.classList.add('drag-over');

      const afterEl = getDragAfterElement(newCol, e.clientY);
      const existing = newCol.querySelector('.drop-indicator');
      if (existing) existing.remove();
      const indicator = document.createElement('div');
      indicator.className = 'drop-indicator';
      if (afterEl) newCol.insertBefore(indicator, afterEl);
      else newCol.appendChild(indicator);
    });

    newCol.addEventListener('dragleave', e => {
      console.log(`ğŸ‘‹ DRAGLEAVE on ${colName}`);
      if (!newCol.contains(e.relatedTarget)) {
        newCol.classList.remove('drag-over');
        const ind = newCol.querySelector('.drop-indicator');
        if (ind) ind.remove();
      }
    });

    newCol.addEventListener('drop', e => {
      console.log(`ğŸ’§ DROP on ${colName}:`, {
        dataTransfer: e.dataTransfer,
        types: e.dataTransfer.types
      });
      e.preventDefault();
      newCol.classList.remove('drag-over');
      const ind = newCol.querySelector('.drop-indicator');
      if (ind) ind.remove();

      const idString = e.dataTransfer.getData('text/plain');
      const id = Number(idString); // Convert string to number for comparison
      console.log('ğŸ“‹ Card ID from dataTransfer:', idString, 'â†’', id);
      
      const card = cards.find(c => c.id === id);
      if (!card) {
        console.error('âŒ Card not found in cards array:', id, 'Available cards:', cards.map(c => c.id));
        return;
      }
      
      console.log('âœ… Found card:', card.title);

      const newColName = newCol.id.replace('col-','');
      const afterEl = getDragAfterElement(newCol, e.clientY);
      const afterId = afterEl ? afterEl.dataset.id : null;

      const colCards = cards.filter(c => c.col === newColName && c.id !== id).sort((a,b) => (a.order||0) - (b.order||0));

      const oldCol = card.col;
      card.col = newColName;
      console.log(`ğŸ“¦ Moving card from ${oldCol} to ${newColName}`);

      if (afterId) {
        const idx = colCards.findIndex(c => c.id === afterId);
        colCards.splice(idx, 0, card);
      } else {
        colCards.push(card);
      }

      colCards.forEach((c, i) => c.order = i);
      console.log('ğŸ’¾ Saving and re-rendering...');
      save();
      render();
      console.log('âœ… Drop complete!');
    });
  });
  
  console.log('âœ… setupDropZones() complete');
}

function getDragAfterElement(container, y) {
  const els = [...container.querySelectorAll('.card:not(.dragging)')];
  let closest = null;
  let closestOffset = Number.NEGATIVE_INFINITY;

  els.forEach(el => {
    const box = el.getBoundingClientRect();
    const offset = y - box.top - box.height / 2;
    if (offset < 0 && offset > closestOffset) {
      closestOffset = offset;
      closest = el;
    }
  });

  return closest;
}

// Modal
function openModal(id) {
  console.log('ğŸ”“ openModal() called with id:', id);
  editingId = id || null;
  const modal = document.getElementById('modalOverlay');
  const titleEl = document.getElementById('modalTitle');
  const deleteBtn = document.getElementById('deleteBtn');

  if (id) {
    const card = cards.find(c => c.id === id);
    console.log('ğŸ“¦ Card data:', card);
    console.log('ğŸ“ Card.description:', card?.description);
    console.log('ğŸ“ Card.desc:', card?.desc);
    
    if (!card) {
      console.error('âŒ Card not found for id:', id);
      return;
    }
    
    titleEl.textContent = card.storyNumber ? `Edit Card (${card.storyNumber})` : 'Edit Card';
    document.getElementById('cardTitleInput').value = card.title;
    
    // CRITICAL: Set description with detailed logging
    const descValue = card.description || card.desc || '';
    console.log('ğŸ“‹ Description to set:', descValue);
    console.log('ğŸ“ Description length:', descValue.length);
    
    const descTextarea = document.getElementById('cardDescInput');
    console.log('ğŸ¯ Textarea element:', descTextarea);
    console.log('ğŸ¯ Textarea ID:', descTextarea?.id);
    
    descTextarea.value = descValue;
    
    console.log('âœ… Textarea value after set:', descTextarea.value);
    console.log('âœ… Textarea value length:', descTextarea.value.length);
    
    document.getElementById('cardPriorityInput').value = card.priority;
    document.getElementById('cardTagInput').value = card.tag || '';
    document.getElementById('cardColumnInput').value = card.col;
    deleteBtn.style.display = '';
  } else {
    console.log('â• Creating new card');
    titleEl.textContent = 'New Card';
    document.getElementById('cardTitleInput').value = '';
    document.getElementById('cardDescInput').value = '';
    document.getElementById('cardPriorityInput').value = 'medium';
    document.getElementById('cardTagInput').value = '';
    document.getElementById('cardColumnInput').value = 'backlog';
    deleteBtn.style.display = 'none';
  }

  modal.classList.add('active');
  setTimeout(() => document.getElementById('cardTitleInput').focus(), 100);
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('active');
  editingId = null;
}

function handleOverlayClick(e) {
  if (e.target === document.getElementById('modalOverlay')) closeModal();
}

function saveCard() {
  const title = document.getElementById('cardTitleInput').value.trim();
  if (!title) { document.getElementById('cardTitleInput').focus(); return; }

  const desc = document.getElementById('cardDescInput').value.trim();
  const priority = document.getElementById('cardPriorityInput').value;
  const tag = document.getElementById('cardTagInput').value.trim().toLowerCase();
  const col = document.getElementById('cardColumnInput').value;

  if (editingId) {
    const card = cards.find(c => c.id === editingId);
    if (card) {
      card.title = title;
      card.description = desc;
      card.priority = priority;
      card.tag = tag;
      if (card.col !== col) {
        card.col = col;
        const colCards = cards.filter(c => c.col === col);
        card.order = colCards.length;
      }
    }
  } else {
    const colCards = cards.filter(c => c.col === col);
    cards.push({ id: uid(), col, title, description: desc, priority, tag, order: colCards.length });
  }

  save();
  render();
  closeModal();
}

function deleteCard() {
  if (!editingId) return;
  if (!confirm('Delete this card?')) return;
  cards = cards.filter(c => c.id !== editingId);
  save();
  render();
  closeModal();
}

// Keyboard
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeModal();
  if (e.key === 'Enter' && e.ctrlKey && document.getElementById('modalOverlay').classList.contains('active')) saveCard();
});

// Force sync from cloud (clear localStorage and reload)
async function forceSyncFromCloud() {
  if (!confirm('Clear local cache and sync from cloud?')) return;
  localStorage.removeItem(STORAGE_KEY);
  await syncPull();
  render();
  alert('âœ… Synced from cloud!');
}

// Theme toggle
function toggleTheme() {
  const html = document.documentElement;
  const isDark = html.getAttribute('data-theme') === 'dark';
  html.setAttribute('data-theme', isDark ? 'light' : 'dark');
  localStorage.setItem('task board-theme', isDark ? 'light' : 'dark');
  updateThemeBtn();
}

function updateThemeBtn() {
  const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
  const btn = document.getElementById('themeBtn');
  if (btn) btn.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
  const mBtn = document.getElementById('mobileThemeBtn');
  if (mBtn) mBtn.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
}

(function() {
  const saved = localStorage.getItem('task board-theme') || 'light';
  if (saved === 'dark') document.documentElement.setAttribute('data-theme', 'dark');
  updateThemeBtn();
})();

// Touch swipe for mobile tabs
let touchStartX = 0;
let touchEndX = 0;
const SWIPE_THRESHOLD = 60;
const tabOrder = ['backlog', 'next-up', 'progress', 'blocked', 'done'];

document.getElementById('board').addEventListener('touchstart', e => {
  touchStartX = e.changedTouches[0].screenX;
}, { passive: true });

document.getElementById('board').addEventListener('touchend', e => {
  touchEndX = e.changedTouches[0].screenX;
  const diff = touchStartX - touchEndX;
  if (Math.abs(diff) < SWIPE_THRESHOLD) return;
  const idx = tabOrder.indexOf(activeTab);
  if (diff > 0 && idx < tabOrder.length - 1) switchTab(tabOrder[idx + 1]);
  if (diff < 0 && idx > 0) switchTab(tabOrder[idx - 1]);
}, { passive: true });

// Init
function updateCountsFromDOM() {
  // Count actual DOM elements in each column (includes hardcoded tasks)
  ['backlog', 'next-up', 'progress', 'blocked', 'done'].forEach(col => {
    const container = document.getElementById(`col-${col}`);
    if (container) {
      const count = container.querySelectorAll('.task-card').length;
      const countEl = document.querySelector(`[data-count="${col}"]`);
      if (countEl) countEl.textContent = count;
      
      // Also update mobile counts
      const mcountEl = document.querySelector(`[data-mcount="${col}"]`);
      if (mcountEl) mcountEl.textContent = count;
    }
  });
  
  // Update total count in header
  const totalCards = document.querySelectorAll('.task-card').length;
  const doneCards = document.getElementById('col-done')?.querySelectorAll('.task-card').length || 0;
  const cardCountEl = document.getElementById('cardCount');
  if (cardCountEl) cardCountEl.textContent = `${doneCards}/${totalCards} done`;
}

async function initBoard() {
  await load();
  const firstWithCards = tabOrder.find(t => cards.some(c => c.col === t)) || 'backlog';
  activeTab = firstWithCards;
  document.querySelectorAll('.mobile-tab').forEach(t => t.classList.toggle('active', t.dataset.tab === activeTab));
  render();
  
  // render() already updates counts correctly - no need for updateCountsFromDOM()

  syncPull().then(changed => { if (changed) render(); });

  setInterval(async () => {
    const changed = await syncPull();
    if (changed) render();
  }, 30000);
}

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // BUG TRACKING
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  async function loadBugs() {
    try {
      const response = await fetch('bugs.json');
      if (!response.ok) {
        console.log('bugs.json not found, skipping bug loading');
        return;
      }
      const data = await response.json();
      
      // Clear existing bugs
      document.querySelectorAll('.bug-column .column-cards').forEach(col => {
        col.innerHTML = '';
      });
      
      // Render each bug
      data.bugs.forEach(bug => {
        const bugCard = createBugCard(bug);
        const columnId = `col-${bug.column}`;
        const column = document.getElementById(columnId);
        if (column) {
          column.appendChild(bugCard);
        }
      });
      
      // Update counts
      updateBugCounts(data);
      
      console.log(`âœ… Loaded ${data.bugs.length} bugs`);
    } catch (err) {
      console.error('Error loading bugs:', err);
    }
  }
  
  function createBugCard(bug) {
    const card = document.createElement('div');
    card.className = 'card';
    card.dataset.priority = bug.priority;
    card.dataset.id = bug.id;
    
    const priorityEmoji = {
      'critical': 'ğŸ”¥',
      'high': 'ğŸ”´',
      'medium': 'ğŸŸ¡',
      'low': 'ğŸŸ¢'
    };
    
    const priorityLabel = {
      'critical': 'Critical',
      'high': 'High',
      'medium': 'Medium',
      'low': 'Low'
    };
    
    card.innerHTML = `
      <div class="card-priority ${bug.priority}">${priorityEmoji[bug.priority]} ${priorityLabel[bug.priority]}</div>
      <div class="card-title"><strong>${bug.app}</strong>: ${bug.test}</div>
      <div class="card-desc">${bug.error}</div>
      <div class="card-footer">
        <span class="card-tag" style="background: var(--tag-coding); color: var(--tag-coding-text);">
          Pass: ${bug.passRate}%
        </span>
        <a href="${bug.appUrl}" target="_blank" style="color: var(--secondary); text-decoration: none; font-size: 0.875rem;">
          View App â†’
        </a>
      </div>
    `;
    
    return card;
  }
  
  function updateBugCounts(data) {
    // Update column counts
    Object.keys(data.columns).forEach(colKey => {
      const countEl = document.querySelector(`[data-count="${colKey}"]`);
      if (countEl) {
        countEl.textContent = data.columns[colKey].count;
      }
    });
    
    // Update total bugs count
    const totalEl = document.getElementById('totalBugsCount');
    if (totalEl) {
      totalEl.textContent = data.stats.total;
    }
  }
  
  // Load bugs when page loads
  const originalDOMContentLoaded = document.addEventListener;
  document.addEventListener('DOMContentLoaded', async () => {
    loadBugs();
    
    // Initialize board on page load (password removed)
    console.log('ğŸ”§ Initializing board on page load');
    await initBoard();
  });
  

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // NAVIGATION MENU
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  // Cache DOM elements and track state
  const navMenu = document.getElementById('navMenu');
  const hamburgerBtn = document.getElementById('hamburgerBtn');
  let isMenuOpen = false;
  
  function toggleNav() {
    isMenuOpen = !isMenuOpen;
    
    if (isMenuOpen) {
      navMenu.classList.add('active');
    } else {
      navMenu.classList.remove('active');
    }
  }
  
  function scrollToSection(sectionId) {
    const section = document.getElementById(sectionId);
    if (section) {
      // Get position and scroll with offset to show header above
      const offset = 120; // Show 120px of content above the target
      const elementPosition = section.getBoundingClientRect().top + window.pageYOffset;
      const offsetPosition = elementPosition - offset;
      
      window.scrollTo({
        top: offsetPosition,
        behavior: 'smooth'
      });
    }
    // Close menu after navigation
    closeMenu();
  }
  
  function closeMenu() {
    isMenuOpen = false;
    navMenu.classList.remove('active');
  }
  
  // Close menu when clicking outside
  document.addEventListener('click', (e) => {
    // Only process if menu is open
    if (!isMenuOpen) return;
    
    // Check if click is outside both menu and hamburger
    if (!navMenu.contains(e.target) && !hamburgerBtn.contains(e.target)) {
      closeMenu();
    }
  });
  
</script>

<!-- Eruda Mobile Debugging Console -->
<script src="https://cdn.jsdelivr.net/npm/eruda"></script>
<script>
  eruda.init();
  console.log('ğŸ› Eruda debugging console loaded');
  console.log('Task Board initialized:', new Date().toISOString());
  
  // Force Eruda to be visible and on top
  setTimeout(() => {
    const erudaEl = document.querySelector('.eruda-container, #eruda');
    if (erudaEl) {
      erudaEl.style.zIndex = '99999';
      console.log('âœ… Eruda z-index set to 99999');
    }
  }, 1000);
</script>

</body>
</html>
